{"version":3,"sources":["components/auth.js","api/googleSheetsAPI.js","components/executeFunc.js","components/Main.js","components/validation.js","components/SearchBar.js","components/NewUserForm.js","components/CountDownTimer.js","components/CheckInOut.js","components/LoadingSpinner.js","components/MyModal.js","components/App.js","index.js"],"names":["doc","GoogleSpreadsheet","process","authenticate","a","useServiceAccountAuth","private_key","replace","client_email","axiosAuth","getNewToken","jwtClient","credentials","access_token","NEW_ACCESS_TOKEN","expiry_date","new_expiry_date","sessionStorage","setItem","console","log","ACCESS_TOKEN","getItem","Date","now","axios","create","baseURL","headers","Authorization","Accept","error","SHEET_ID","executeValuesUpdate","val","googleSheetsAPI","put","values","params","valueInputOption","response","executeBatchUpdateAddSheet","sheetDate","post","requests","addSheet","properties","title","rightToLeft","data","replies","sheetId","message","executeBatchUpdateCutPaste","destSheetId","cutPaste","source","destination","pasteType","executeValuesAppendAddSheet","majorDimension","toLocaleDateString","executeValuesAppendNewUserData","userData","mobile","userName","email","membership","executeValuesAppendCheckIn","checkInOut","valuesMatched","toLocaleTimeString","executeValuesAppendCheckOut","rowNumber","range","includes","getSheetValues","get","Main","state","showCheckInOut","shrink","onFormSubmitUser","setState","callBackFunc","onFormSubmitNewUser","this","props","onSubmit","window","location","pathname","className","to","type","onClick","src","alt","React","Component","checkForMobNum","inputTerm","validMobNum","test","checkForEmail","validEmail","checkForUserName","validUserName","checkForMembership","validMembership","SearchBar","term","validNumber","onFormSubmit","event","preventDefault","URLSearchParams","search","name","value","onChange","e","target","maxLength","placeholder","role","NewUserForm","validate","onNewUserFormSubmit","validMobile","myChangeHandler","nam","length","CountDownTimer","hoursMinSecs","onTimeUp","hours","minutes","seconds","useState","hrs","mins","secs","setTime","useEffect","timerId","setInterval","clearInterval","toString","padStart","CheckInOut","onCheckInOut","LoadingSpinner","MyModal","href","history","pushState","navEvent","PopStateEvent","dispatchEvent","id","tabIndex","body","closeAction","openPage","App","numberExists","firstLoad","duration","approxDuration","cost","newSheetId","checkedIn","checkedOut","loading","modalBody","modalCloseAction","shrinkLogo","timeUp","countDownTimerUp","getNewSheetId","doShrinkLogo","onUserSubmit","mainData","onSearchSubmit","dateOne","dateTwo","checkDateToAddSheet","myModal","Modal","document","getElementById","show","dataDateOne","dataDateTwo","diffTime","Math","abs","diffDays","ceil","onCheckInOutSubmit","getSheetValuesDurationRange","resData","loadApiScript","path","children","exact","ReactDOM","render"],"mappings":"sjBAGMA,EAAM,I,OAAIC,mBADCC,gDAGJC,EAAY,uCAAG,sBAAAC,EAAA,sEACpBJ,EAAIK,sBAAsB,CAC9BC,YAAaJ,usDAAyCK,QACpD,QACA,MAEFC,aAAcN,8DANU,gCASnBF,GATmB,2CAAH,qDCFZS,EAAS,uCAAG,8BAAAL,EAAA,kEAEfM,EAFe,+BAAAN,EAAA,MAED,gCAAAA,EAAA,sEACAD,IADA,cACZH,EADY,gBAEaA,EAAIW,UAAUC,YAAYC,aAFvC,cAEZC,EAFY,gBAGYd,EAAIW,UAAUC,YAAYG,YAHtC,OAGZC,EAHY,OAKlBC,eAAeC,QAAQ,QAASJ,GAChCG,eAAeC,QAAQ,cAAeF,GACtCG,QAAQC,IAAI,aAPM,4CAFC,qDAYfC,EAAeJ,eAAeK,QAAQ,WACxBL,eAAeK,QAAQ,eAEzBC,KAAKC,OAfF,gCAgBbd,IAhBa,gCAwBde,IAAMC,OAAO,CAClBC,QAAQ,iDACRC,QAAS,CACPC,cAAc,UAAD,OAAYR,GACzBS,OAAQ,mBACR,eAAgB,uBA7BC,yCAiCrBX,QAAQY,MAAM,gBAAd,MAjCqB,mBAkCd,GAlCc,0DAAH,qDCFhBC,EAAW9B,+CAEJ+B,EAAmB,uCAAG,WAAOC,GAAP,iBAAA9B,EAAA,+EAEDK,IAFC,cAEzB0B,EAFyB,OAIjB,aACW,eALM,SAMRA,EAAgBC,IAAhB,UAClBJ,EADkB,mBAFT,cAIZ,CAEEK,OAAQ,CAAC,CAAC,IAAD,OAAKH,MAEhB,CAAEI,OAAQ,CAAEC,iBAPW,kBALM,OAMzBC,EANyB,OAe/BrB,QAAQC,IAAI,+BAAgCoB,GAfb,kDAiB/BrB,QAAQY,MAAM,gBAAd,MAjB+B,0DAAH,sDAqBnBU,EAA0B,uCAAG,WAAOC,GAAP,iBAAAtC,EAAA,+EAERK,IAFQ,cAEhC0B,EAFgC,gBAGfA,EAAgBQ,KAAhB,UAAwBX,EAAxB,gBAAgD,CACrEY,SAAU,CACR,CACEC,SAAU,CACRC,WAAY,CACVC,MAAOL,EACPM,aAAa,QATe,cAGhCR,EAHgC,OAgBtCrB,QAAQC,IACN,sCACAoB,EAASS,KAAKC,QAAQ,GAAGL,SAASC,WAAWK,SAlBT,kBAoB/BX,EAASS,KAAKC,QAAQ,GAAGL,SAASC,WAAWK,SApBd,yCAsBtChC,QAAQY,MAAM,gBAAiB,KAAIkB,KAAKlB,MAAMqB,SAtBR,mBAuB/B,GAvB+B,0DAAH,sDA2B1BC,EAA0B,uCAAG,WAAOC,GAAP,iBAAAlD,EAAA,+EAERK,IAFQ,cAEhC0B,EAFgC,gBAGfA,EAAgBQ,KAAhB,UAAwBX,EAAxB,gBAAgD,CACrEY,SAAU,CACR,CACEW,SAAU,CACRC,OAAQ,CACNL,QAAS,YAEXM,YAAa,CACXN,QAASG,GAEXI,UAAW,oBAbmB,OAGhClB,EAHgC,OAkBtCrB,QAAQC,IAAI,sCAAuCoB,GAlBb,kDAoBtCrB,QAAQY,MAAM,gBAAd,MApBsC,0DAAH,sDAwB1B4B,EAA2B,uCAAG,8BAAAvD,EAAA,+EAETK,IAFS,cAEjC0B,EAFiC,OAIzB,UACW,eALc,SAMhBA,EAAgBQ,KAAhB,UAClBX,EADkB,mBAFT,UAES,WAErB,CACE4B,eAAgB,UAChBvB,OAAQ,CACN,CAAC,QACD,CAAC,cACD,CAAC,UACD,CAAC,cACD,CAAC,YACD,CAAC,gBACD,CAAC,iBACD,CAAC,YACD,CAAC,oBACD,CAAC,QACD,CAAC,aACD,EAAC,IAAId,MAAOsC,wBAGhB,CAAEvB,OAAQ,CAAEC,iBApBW,kBALc,OAMjCC,EANiC,OA4BvCrB,QAAQC,IAAI,uCAAwCoB,GA5Bb,kDA8BvCrB,QAAQY,MAAM,gBAAd,MA9BuC,0DAAH,qDAkC3B+B,EAA8B,uCAAG,WAAOC,GAAP,iBAAA3D,EAAA,+EAEZK,IAFY,cAEpC0B,EAFoC,OAI5B,aACW,MALiB,SAMnBA,EAAgBQ,KAAhB,UAClBX,EADkB,mBAFT,aAES,WAErB,CACE4B,eAAgB,UAChBvB,OAAQ,CAEN,CAAC0B,EAASC,QACV,CAACD,EAASE,UACV,CAACF,EAASG,OACV,CAACH,EAASI,cAGd,CAAE7B,OAAQ,CAAEC,iBAbW,SALiB,OAMpCC,EANoC,OAqB1CrB,QAAQC,IAAI,0CAA2CoB,GArBb,kDAuB1CrB,QAAQY,MAAM,gBAAd,MAvB0C,0DAAH,sDA2B9BqC,EAA0B,uCAAG,WAAOC,EAAYC,GAAnB,iBAAAlE,EAAA,+EAERK,IAFQ,cAEhC0B,EAFgC,OAIxB,UACW,eALa,SAMfA,EAAgBQ,KAAhB,UAClBX,EADkB,mBAFT,UAES,WAErB,CACE4B,eAAgB,UAChBvB,OAAQ,CACN,CAACiC,EAAc,IACf,CAAC,IAAD,OAAKA,EAAc,KACnB,CAACA,EAAc,IACf,CAACA,EAAc,IACf,CAACD,GACD,EAAC,IAAI9C,MAAOgD,wBAGhB,CAAEjC,OAAQ,CAAEC,iBAdW,kBALa,OAMhCC,EANgC,OAsBtCrB,QAAQC,IAAI,sCAAuCoB,GAtBb,kDAwBtCrB,QAAQY,MAAM,gBAAd,MAxBsC,0DAAH,wDA4B1ByC,EAA2B,uCAAG,WACzCH,EACAI,EACAN,GAHyC,mBAAA/D,EAAA,+EAMTK,IANS,cAMjC0B,EANiC,OAQjCuC,EARiC,gBAQhBD,GACE,eATc,SAUhBtC,EAAgBQ,KAAhB,UAClBX,EADkB,mBACC0C,EADD,WAErB,CACEd,eAAgB,UAChBvB,OAAQ,CACN,EAAC,IAAId,MAAOgD,sBACZ,CAAC,UAAD,OAAWE,EAAX,aAAyBA,EAAzB,aACA,CAAC,QAAD,OACUA,EADV,8BACyCA,EADzC,oBAC8DA,EAD9D,2BAC0FA,EAD1F,oBAC+GA,EAD/G,qBACqIA,EADrI,oBAC0JA,EAD1J,+BAC0LA,EAD1L,iCAC4NA,EAD5N,mBAGAN,EAAWQ,SAAS,cAAgB,CAAC,QAAD,OAASF,EAAT,mBAA6BA,EAA7B,SAAgD,CAAC,IACrF,CAACJ,KAGL,CAAE/B,OAAQ,CAAEC,iBAfW,kBATc,OAUjCC,EAViC,OA2BvCrB,QAAQC,IAAI,uCAAwCoB,GA3Bb,kDA6BvCrB,QAAQY,MAAM,gBAAd,MA7BuC,0DAAH,0DAiC3B6C,EAAc,uCAAG,WAAOF,GAAP,iBAAAtE,EAAA,+EAEIK,IAFJ,cAEpB0B,EAFoB,gBAIHA,EAAgB0C,IAAhB,UAAuB7C,EAAvB,mBAA0C0C,IAJvC,cAIpBlC,EAJoB,OAM1BrB,QAAQC,IAAI,kCAAmCoB,EAASS,KAAKZ,OAAO,IAN1C,kBAOnBG,EAASS,KAAKZ,OAAO,IAPF,kCAS1BlB,QAAQY,MAAM,gBAAd,MAT0B,0DAAH,sD,eC3HZ+C,E,4MAtEbC,MAAQ,CACNC,gBAAgB,EAChBC,QAAQ,G,EAGVC,iB,sBAAmB,sBAAA9E,EAAA,sDACjB,EAAK+E,SAAS,CAAEF,QAAQ,GAAQ,EAAKG,cADpB,2C,EAGnBC,oB,sBAAsB,sBAAAjF,EAAA,sDACpB,EAAK+E,SAAS,CAAEH,gBAAgB,EAAOC,QAAQ,GAAQ,EAAKG,cADxC,2C,kDAItB,WACEE,KAAKC,MAAMC,SAAS,CAClBR,eAAgBM,KAAKP,MAAMC,eAC3BC,OAAQK,KAAKP,MAAME,W,oBAIvB,WACE,IAAMA,EACJK,KAAKP,MAAME,QAAuC,UAA7BQ,OAAOC,SAASC,SAAuB,SAAW,GACzE,OACE,8BAQE,qBAAKC,UAAU,wBAAf,SACE,qBAAKA,UAAU,sBAAf,SACE,uBAAMA,UAAU,yCAAhB,UACE,cAAC,IAAD,CAAMC,GAAG,aAAT,SACE,yBACED,UAAU,uCACVE,KAAK,SACLC,QAAST,KAAKJ,iBAHhB,UAKE,qBACEU,UAAS,mCAA8BX,GACvCe,IAAI,kBACJC,IAAI,gBARR,YAaF,cAAC,IAAD,CAAMJ,GAAG,iBAAT,SACE,yBACED,UAAU,uCACVE,KAAK,SACLC,QAAST,KAAKD,oBAHhB,UAKE,qBACEO,UAAS,mCAA8BX,GACvCe,IAAI,oBACJC,IAAI,kBARR,6B,GAlDGC,IAAMC,WCHZC,EAAc,uCAAG,WAAOC,GAAP,IAGnBC,EAHmB,SAAAlG,EAAA,yDAGnBkG,EAHmB,SAGPD,GAEnB,MADa,kBACCE,KAAKF,IAJrBlF,QAAQC,IAAI,iCAAkCiF,IAO1CC,EAAYD,GARY,0CASnB,GATmB,iCAWrB,GAXqB,2CAAH,sDAcdG,EAAa,uCAAG,WAAOH,GAAP,IAGlBI,EAHkB,SAAArG,EAAA,yDAGlBqG,EAHkB,SAGPJ,GAGlB,MADE,gFACYE,KAAKF,IALrBlF,QAAQC,IAAI,gCAAiCiF,IAQzCI,EAAWJ,GATY,0CAUlB,GAVkB,iCAYpB,GAZoB,2CAAH,sDAebK,EAAgB,uCAAG,WAAOL,GAAP,IAGrBM,EAHqB,SAAAvG,EAAA,yDAGrBuG,EAHqB,SAGPN,GAGrB,MADE,2GACYE,KAAKF,IALrBlF,QAAQC,IAAI,mCAAoCiF,IAQ5CM,EAAcN,GATY,0CAUrB,GAVqB,iCAYvB,GAZuB,2CAAH,sDAehBO,EAAkB,uCAAG,WAAOP,GAAP,IAGvBQ,EAHuB,SAAAzG,EAAA,yDAGvByG,EAHuB,SAGPR,GAEvB,MADa,SACCE,KAAKF,IAJrBlF,QAAQC,IAAI,qCAAsCiF,IAO9CQ,EAAgBR,GARY,0CASvB,GATuB,iCAWzB,GAXyB,2CAAH,sDCqBhBS,E,4MA7Db/B,MAAQ,CAAEgC,KAAM,GAAIC,YAAa,M,EAcjCC,a,uCAAe,WAAOC,GAAP,eAAA9G,EAAA,6DACb8G,EAAMC,iBADO,SAEaf,EAAe,EAAKrB,MAAMgC,MAFvC,UAEPC,EAFO,OAGb,EAAK7B,SAAS,CAAE6B,YAAaA,KAEE,IAA3B,EAAKjC,MAAMiC,YALF,iDAMb,EAAKzB,MAAMC,SAAS,EAAKT,MAAMgC,MANlB,2C,6GAZf,WAIE,IAAI/C,EAAS,IAAIoD,gBAAgB3B,OAAOC,SAAS2B,QAAQxC,IAAI,UAEzDb,IACFsB,KAAKH,SAAS,CAAE4B,KAAM/C,IACtBsB,KAAKC,MAAMC,SAASxB,M,oBAaxB,WAAU,IAAD,OACP,OACE,qBAAK4B,UAAU,aAAf,SACE,sBAAMJ,SAAUF,KAAK2B,aAAcrB,UAAU,UAA7C,SACE,sBAAKA,UAAU,QAAf,UACE,4DACA,uBACEE,KAAK,MACLwB,KAAK,SACLC,MAAOjC,KAAKP,MAAMgC,KAClBS,SAAU,SAACC,GAAD,OAAO,EAAKtC,SAAS,CAAE4B,KAAMU,EAAEC,OAAOH,SAChDI,UAAW,GACXC,YAAY,gBAEc,OAA3BtC,KAAKP,MAAMiC,cACe,IAA3B1B,KAAKP,MAAMiC,YACT,GAEA,qBAAKpB,UAAU,qBAAqBiC,KAAK,QAAzC,uCAIF,qBAAKjC,UAAU,OAAf,SACE,wBACEA,UAAU,+BACVG,QAAST,KAAK2B,aACdnB,KAAK,SAHP,iC,GA/CUI,IAAMC,W,QCoJf2B,E,4MA9Ib/C,MAAQ,CACNd,SAAU,GACVD,OAAQ,GACRE,MAAO,GACPC,WAAY,GACZ4D,SAAU,CAAE9D,SAAU,KAAMD,OAAQ,KAAME,MAAO,KAAMC,WAAY,O,EAGrE6D,oB,uCAAsB,WAAOd,GAAP,qBAAA9G,EAAA,6DACpB8G,EAAMC,iBADc,SAGMf,EAAe,EAAKrB,MAAMf,QAHhC,cAGdiE,EAHc,gBAIKzB,EAAc,EAAKzB,MAAMb,OAJ9B,cAIduC,EAJc,gBAKQC,EAAiB,EAAK3B,MAAMd,UALpC,cAKd0C,EALc,iBAMUC,EAAmB,EAAK7B,MAAMZ,YANxC,WAMd0C,EANc,OAQpB,EAAK1B,SAAS,CACZ4C,SAAU,CACR/D,OAAQiE,EACR/D,MAAOuC,EACPxC,SAAU0C,EACVxC,WAAY0C,MAImB,IAA/B,EAAK9B,MAAMgD,SAAS/D,OAjBJ,uDAkBc,IAA9B,EAAKe,MAAMgD,SAAS7D,MAlBJ,uDAmBiB,IAAjC,EAAKa,MAAMgD,SAAS9D,SAnBJ,uDAoBmB,IAAnC,EAAKc,MAAMgD,SAAS5D,WApBJ,mDAsBpB,EAAKoB,MAAMC,SAAS,CAClBvB,SAAU,EAAKc,MAAMd,SACrBD,OAAQ,EAAKe,MAAMf,OACnBE,MAAO,EAAKa,MAAMb,MAClBC,WAAY,EAAKY,MAAMZ,aA1BL,4C,wDA8BtB+D,gBAAkB,SAAChB,GACjB,IAAIiB,EAAMjB,EAAMQ,OAAOJ,KACnBpF,EAAMgF,EAAMQ,OAAOH,MACvB,EAAKpC,SAAL,eAAiBgD,EAAMjG,K,4CAGzB,WACE,OACE,qBAAK0D,UAAU,aAAf,SACE,uBAAMA,UAAU,UAAhB,UACE,8BAC2B,KAAxBN,KAAKP,MAAMd,UAAmBqB,KAAKP,MAAMd,SAASmE,OAAS,EAC1D,+BACG,kBAAkB7B,KAAKjB,KAAKP,MAAMd,UAC/B,kCACA,SACHqB,KAAKP,MAAMd,YAGd,KAGJ,sBAAK2B,UAAU,QAAf,UACE,8CACA,uBACEE,KAAK,OACLwB,KAAK,WACLM,YAAY,2GACZJ,SAAUlC,KAAK4C,kBAEiB,OAAjC5C,KAAKP,MAAMgD,SAAS9D,WACY,IAAjCqB,KAAKP,MAAMgD,SAAS9D,SAClB,GAEA,qBAAK2B,UAAU,qBAAqBiC,KAAK,QAAzC,mCAIF,kDACA,uBACE/B,KAAK,MACLwB,KAAK,SACLM,YAAY,cACZJ,SAAUlC,KAAK4C,gBACfP,UAAW,KAEmB,OAA/BrC,KAAKP,MAAMgD,SAAS/D,SACU,IAA/BsB,KAAKP,MAAMgD,SAAS/D,OAClB,GAEA,qBAAK4B,UAAU,qBAAqBiC,KAAK,QAAzC,uCAIF,mDACA,uBACE/B,KAAK,OACLwB,KAAK,QACLM,YAAY,sBACZJ,SAAUlC,KAAK4C,kBAEc,OAA9B5C,KAAKP,MAAMgD,SAAS7D,QACS,IAA9BoB,KAAKP,MAAMgD,SAAS7D,MAClB,GAEA,qBAAK0B,UAAU,qBAAqBiC,KAAK,QAAzC,wCAIF,+CAEE,yBAAQP,KAAK,aAAaE,SAAUlC,KAAK4C,gBAAzC,UACE,wBAAQX,MAAM,GAAd,0BACA,wBAAQA,MAAM,aAAd,wBACA,wBAAQA,MAAM,QAAd,mBACA,wBAAQA,MAAM,SAAd,oBACA,wBAAQA,MAAM,WAAd,sBACA,wBAAQA,MAAM,WAAd,sBACA,wBAAQA,MAAM,QAAd,yBAGgC,OAAnCjC,KAAKP,MAAMgD,SAAS5D,aACc,IAAnCmB,KAAKP,MAAMgD,SAAS5D,WAClB,GAEA,qBAAKyB,UAAU,qBAAqBiC,KAAK,QAAzC,+BAKF,wBACEjC,UAAU,+BACVG,QAAST,KAAK0C,oBACdlC,KAAK,SAHP,gC,GAjIcI,IAAMC,W,QCgCjBkC,EAtCQ,SAAC,GAAgC,IAA9BC,EAA6B,EAA7BA,aAAcC,EAAe,EAAfA,SACtC,EAAiDD,EAAzCE,aAAR,MAAgB,EAAhB,IAAiDF,EAA9BG,eAAnB,MAA6B,EAA7B,IAAiDH,EAAjBI,eAAhC,MAA0C,GAA1C,EACA,EAAqCxC,IAAMyC,SAAS,CAClDH,EACAC,EACAC,IAHF,yCAAQE,EAAR,KAAaC,EAAb,KAAmBC,EAAnB,KAA0BC,EAA1B,KA2BA,OALA7C,IAAM8C,WAAU,WACd,IAAMC,EAAUC,aAAY,WAhBhB,IAARN,GAAsB,IAATC,GAAuB,IAATC,EAE7BP,GAAS,GAETQ,EADkB,IAATF,GAAuB,IAATC,EACf,CAACF,EAAM,EAAG,GAAI,IACJ,IAATE,EACD,CAACF,EAAKC,EAAO,EAAG,IAEhB,CAACD,EAAKC,EAAMC,EAAO,MAQa,KAC1C,OAAO,kBAAMK,cAAcF,OAI3B,8BACE,sCAAOL,EAAIQ,WAAWC,SAAS,EAAG,KAAlC,YAA0CR,EACvCO,WACAC,SAAS,EAAG,KAFf,YAEuBP,EAAKM,WAAWC,SAAS,EAAG,WCI1CC,E,4MApCbvE,MAAQ,CAAEV,WAAY,I,EAEtBkF,aAAe,SAACrC,GACdA,EAAMC,iBAEN,EAAKhC,SAAS,CAAEd,WAAY6C,EAAMQ,OAAOH,QAAS,WAChDjC,KAAKC,MAAMC,SAASF,KAAKP,MAAMV,gB,4CAInC,WACE,OACE,sBAAKuB,UAAU,aAAf,UACE,wBACEA,UAAU,+BACV0B,KAAK,UACLC,MAAM,WACNxB,QAAST,KAAKiE,aACdzD,KAAK,SALP,sBASA,wBACEF,UAAU,+BACV0B,KAAK,WACLC,MAAM,YACNxB,QAAST,KAAKiE,aACdzD,KAAK,SALP,8B,GAvBiBI,IAAMC,WCYhBqD,E,4JAXb,WACE,OACE,qBAAK5D,UAAU,cAAf,SACE,qBAAKA,UAAU,8BAA8BiC,KAAK,SAAlD,SACE,sBAAMjC,UAAU,kBAAhB,gC,GALmBM,IAAMC,WC4DpBsD,E,8JA3Db,SAASvC,EAAOwC,GACdxC,EAAMC,iBACN1B,OAAOkE,QAAQC,UAAU,GAAI,GAAIF,GAEjC,IAAMG,EAAW,IAAIC,cAAc,YACnCrE,OAAOsE,cAAcF,K,oBAGvB,WAAU,IAAD,OACP,OACE,8BACE,qBACEjE,UAAU,aACVoE,GAAG,eACHC,SAAS,KACT,aAAW,oBACX,cAAY,OALd,SAOE,qBAAKrE,UAAU,qCAAf,SACE,sBAAKA,UAAU,gBAAf,UACE,qBAAKA,UAAU,eAAf,SAIE,wBACEE,KAAK,SACLF,UAAU,YACV,kBAAgB,QAChB,aAAW,YAGf,qBAAKA,UAAU,yBAAf,SAAyCN,KAAKC,MAAM2E,OACpD,qBAAKtE,UAAU,eAAf,SACE,wBACEE,KAAK,SACLF,UAAU,kBACV,kBAAgB,QAChBG,QAAS,SAACmB,GACR,OAAQ,EAAK3B,MAAM4E,aACjB,IAAK,UACH,OAAQ1E,OAAOC,SAASC,SAAW,IACrC,IAAK,WACH,OAAO,EAAKyE,SAASlD,EAAO,kBAC9B,QACE,MAAO,KAXf,kC,GAlCMhB,IAAMC,W,uCCuBtBmC,EAAe,CAAEE,MAAO,EAAGC,QAAS,GAAIC,QAAS,GAiWxC2B,E,4MA9VbtF,MAAQ,CACNuF,aAAc,GACdC,WAAW,EACXjG,cAAe,GACfD,WAAY,GACZmG,SAAU,GACVC,eAAgB,GAChBC,KAAM,GACNC,WAAY,EACZC,WAAW,EACXC,YAAY,EACZC,SAAS,EACTC,UAAW,GACXC,iBAAkB,GAClBtI,UAAW,GACXsC,gBAAgB,EAChBC,QAAQ,EACRgG,YAAY,EACZC,QAAQ,G,EAGVC,iB,uCAAmB,WAAO5D,GAAP,SAAAnH,EAAA,sDACjB,EAAK+E,SAAS,CAAE+F,OAAQ3D,IADP,2C,wDAInB6D,c,sBAAgB,4BAAAhL,EAAA,sEACWqC,EACvB,EAAKsC,MAAMrC,UAAU,IAFT,WAIK,KAHbiI,EADQ,gEAKd,EAAKxF,SAAS,CACZwF,WAAYA,IANA,SAQRtH,EAA2B,EAAK0B,MAAM4F,YAR9B,wBASRhH,IATQ,4C,EAYhB0H,a,sBAAe,sBAAAjL,EAAA,sDACb,EAAK+E,SAAS,CACZ8F,YAAY,IAFD,2C,EAMfK,a,uCAAe,WAAOC,GAAP,SAAAnL,EAAA,sDACb,EAAK+E,SAAS,CACZH,eAAgBuG,EAASvG,eACzBC,OAAQsG,EAAStG,SAHN,2C,wDAOfuG,e,uCAAiB,WAAOzE,GAAP,yBAAA3G,EAAA,6DAEf,EAAK+E,SAAS,CAAE2F,SAAS,IAGrB,EAAK/F,MAAMwF,WACb,EAAKpF,SAAS,CAAEoF,WAAW,IAIQ,UAVtB,SAWS3F,EADa,WAVtB,cAWTlC,EAXS,OAYf,EAAKyC,SAAS,CAAEzC,UAAWA,IAErB+I,EAAU,EAAK1G,MAAMrC,UACrBgJ,GAAU,IAAInK,MAAOsC,qBAfZ,UAgBI,EAAK8H,oBAAoBF,EAASC,GAhBtC,qBAkBH,GAlBG,kCAmBP,EAAKN,gBAnBE,yBAuBTnJ,EAAoB8E,GAvBX,cAwByB,aAxBzB,UAyBYnC,EADa,cAxBzB,WAyBT0F,EAzBS,OA0Bf,EAAKnF,SAAS,CAAEmF,aAAcA,KAC1B,EAAKvF,MAAMuF,aAAa3F,SAAS,UA3BtB,uBA4BsB,gBA5BtB,UA6BeC,EADO,iBA5BtB,QA6BPN,EA7BO,OA8Bb,EAAKa,SAAS,CAAEb,cAAeA,IA9BlB,QAkCf,EAAKa,SAAS,CAAE2F,SAAS,IAGzB,EAAK/F,MAAMuF,aAAa3F,SAAS,KACjC,EAAKI,MAAMuF,aAAa3F,SAAS,cAC7B,EAAKQ,SAAS,CACZH,gBAAgB,IAElB,EAAKG,SAAS,CACZH,gBAAgB,IAItB,EAAKG,SAAS,CACZ4F,UACE,qBAAKnF,UAAU,cAAf,SACG,EAAKb,MAAMuF,aAAa3F,SAAS,UAChC,+BACG,kBAAkB4B,KAAK,EAAKxB,MAAMT,cAAc,IAC7C,iCACA,eACJ,uBACC,EAAKS,MAAMT,cAAc,MAG5B,qBAAKsB,UAAU,cAAf,SACE,4BAAI,EAAKb,MAAMuF,mBAKvBU,iBAAkB,EAAKjG,MAAMuF,aAAa3F,SAAS,cAC/C,WACA,OAEFiH,EAAU,IAAIC,IAAMC,SAASC,eAAe,gBAAiB,KAE9D,EAAKhH,MAAMuF,aAAa3F,SAAS,WAChC,EAAKI,MAAMT,cAAc,GAAGK,SAAS,mBACvC,EAAKI,MAAMuF,aAAa3F,SAAS,gBAEjCiH,EAAQI,OA3EK,4C,wDA+EjBhE,oB,uCAAsB,WAAOjE,GAAP,eAAA3D,EAAA,6DACpBe,QAAQC,IAAI2C,GACR,EAAKgB,MAAMwF,WACb,EAAKpF,SAAS,CAAEoF,WAAW,IAHT,SAMdzG,EAA+BC,GANjB,cAOpB,EAAKoB,SAAS,CACZ4F,UACE,qBAAKnF,UAAU,cAAf,SACE,oDAIQ,IAAIiG,IAAMC,SAASC,eAAe,gBAAiB,IACzDC,OAfY,SAgBd/J,EAAoB8B,EAASC,QAhBf,aAiBe,gBAjBf,UAkBQY,EADO,iBAjBf,QAkBdN,EAlBc,OAmBpB,EAAKa,SAAS,CAAEb,cAAeA,IAC/B,EAAKa,SAAS,CACZH,gBAAgB,IArBE,4C,wDAyBtB2G,oB,uCAAsB,WAAOM,EAAaC,GAApB,qBAAA9L,EAAA,6DACdqL,EAAU,IAAIlK,KAAK0K,GACnBP,EAAU,IAAInK,KAAK2K,GACnBC,EAAWC,KAAKC,IAAIX,EAAUD,GAC9Ba,EAAWF,KAAKG,KAAKJ,EAAQ,OAJf,kBAMbG,GANa,2C,0DAStBE,mB,uCAAqB,WAAOnI,GAAP,iBAAAjE,EAAA,0DACfiE,EAAWM,SAAS,YADL,oBAEjBxD,QAAQC,IAAI,oBACmD,IAA3D,EAAK2D,MAAMT,cAAc,GAAGK,SAAS,kBAHxB,wBAIf,EAAKQ,SAAS,CAAEyF,WAAW,IAC3B,EAAKzF,SAAS,CACZ4F,UACE,8BACE,0DAGJC,iBAAkB,YAEN,IAAIa,IAAMC,SAASC,eAAe,gBAAiB,IACzDC,OAdO,4CAiBT5H,EAA2BC,EAAY,EAAKU,MAAMT,eAjBzC,QAkBf,EAAKa,SAAS,CACZ4F,UACE,gCACE,0DACwD,IAAvD,EAAKhG,MAAMT,cAAc,GAAGK,SAAS,eACtC,EAAKI,MAAMT,cAAc,GAAGK,SAAS,KACnC,gCACE,+CAAkB,EAAKI,MAAMT,cAAc,MAC3C,iDAEG,EAAKS,MAAMT,cAAc,GAAGK,SAAS,KAArC,kBACc,EAAKI,MAAMT,cAAc,IADvC,WAEO,EAAKS,MAAMT,cAAc,GAFhC,KAFH,aASF,MAIN0G,iBAAkB,YAEN,IAAIa,IAAMC,SAASC,eAAe,gBAAiB,IACzDC,OA1CO,mCA6CjB7K,QAAQC,IAAI,qBACR,EAAK2D,MAAMT,cAAc,GAAGK,SAAS,aA9CxB,wBA+Cf,EAAKQ,SAAS,CAAE0F,YAAY,IAC5B,EAAK1F,SAAS,CACZ4F,UACE,8BACE,2DAGJC,iBAAkB,YAEN,IAAIa,IAAMC,SAASC,eAAe,gBAAiB,IACzDC,OAzDO,+BA2DN,EAAKjH,MAAMT,cAAc,GAAGK,SAAS,kBA3D/B,wBA4Df,EAAKQ,SAAS,CACZ4F,UACE,8BACE,6BAAK,EAAKhG,MAAMT,cAAc,OAGlC0G,iBAAkB,YAEN,IAAIa,IAAMC,SAASC,eAAe,gBAAiB,IACzDC,OArEO,4CAwETxH,EACJH,EACA,EAAKU,MAAMT,cAAc,GACzB,EAAKS,MAAMT,cAAc,IA3EZ,eA6ETmI,EA7ES,gBA6E8B,EAAK1H,MAAMT,cAAc,GA7EvD,aA6E8D,EAAKS,MAAMT,cAAc,IA7EvF,UA8EOM,EAAe6H,GA9EtB,QA8ETC,EA9ES,OA+Ef,EAAKvH,SAAS,CACZqF,SAAUkC,EAAQ,GAClBjC,eAAgBiC,EAAQ,GACxBhC,KAAMgC,EAAQ,KAEhB,EAAKvH,SAAS,CACZ4F,UACE,8BACG,EAAKhG,MAAMyF,SAAS7F,SAAS,IAC5B,gCACE,4CAAe,EAAKI,MAAMyF,SAA1B,aACA,oDAAuB,EAAKzF,MAAM0F,eAAlC,YACC,EAAK1F,MAAMT,cAAc,GAAGK,SAAS,cACpC,wCAAW,EAAKI,MAAM2F,KAAtB,UAEA,MAIJ,KAINM,iBAAkB,YAEN,IAAIa,IAAMC,SAASC,eAAe,gBAAiB,IACzDC,OAzGO,4C,wDA8GrBW,c,sBAAgB,sBAAAvM,EAAA,6DACd,EAAK+E,SAAS,CACZoF,WAAW,IAFC,SAKR9J,IALQ,2C,uDAQhB,WACE6E,KAAKqH,kB,oBAGP,WACE,IAAM1B,EACJ3F,KAAKP,MAAMkG,YAA2C,MAA7BxF,OAAOC,SAASC,SACrC,cACA,GACN,OACE,cAAC,IAAD,UACE,sBAAKC,UAAU,oBAAf,UACE,cAAC,IAAD,CAAMC,GAAG,QAAT,SACE,qBAAKD,UAAU,cAAf,SACE,wBACEA,UAAU,wBACVE,KAAK,SACLC,QAAST,KAAK+F,aAHhB,SAKE,qBACEzF,UAAS,mCAA8BqF,GACvCjF,IAAI,WACJC,IAAI,eAMZ,cAAC,IAAD,CACE2G,KAAK,QACLC,SAAU,cAAC,EAAD,CAAMrH,SAAUF,KAAKgG,iBAEjC,cAAC,IAAD,CACEsB,KAAK,aACLE,OAAK,EACLD,SAAU,cAAC,EAAD,CAAWrH,SAAUF,KAAKkG,mBAEtC,cAAC,IAAD,CACEoB,KAAK,iBACLE,OAAK,EACLD,SAAU,cAAC,EAAD,CAAarH,SAAUF,KAAK0C,wBAGvC1C,KAAKP,MAAM+F,QAAU,cAAC,EAAD,IAAqB,KAE1CxF,KAAKP,MAAMC,eACV,cAAC,EAAD,CAAYQ,SAAUF,KAAKkH,qBACzB,KAEJ,cAAC,EAAD,CACEtC,KAAM5E,KAAKP,MAAMgG,UACjBZ,YAAa7E,KAAKP,MAAMiG,mBAE1B,sBAAKpF,UAAU,YAAf,UACGN,KAAKP,MAAMwF,UACV,cAAC,EAAD,CACEjC,aAAcA,EACdC,SAAUjD,KAAK6F,mBAEf,KAEH7F,KAAKP,MAAMmG,OAAS,0CAAqB,iB,GAvVpChF,IAAMC,WCvBxB4G,IAASC,OAAO,cAAC,EAAD,IAASlB,SAASC,eAAe,W","file":"static/js/main.2dc241c8.chunk.js","sourcesContent":["import { GoogleSpreadsheet } from 'google-spreadsheet';\n\nconst SHEET_ID = process.env.REACT_APP_SHEET_ID;\nconst doc = new GoogleSpreadsheet(SHEET_ID);\n\nexport const authenticate = async () => {\n  await doc.useServiceAccountAuth({\n    private_key: process.env.REACT_APP_GOOGLE_PRIVATE_KEY.replace(\n      /\\\\n/gm,\n      '\\n'\n    ),\n    client_email: process.env.REACT_APP_GOOGLE_SERVICE_ACCOUNT_EMAIL,\n  });\n\n  return doc;\n};\n\nexport const docOnly = async () => {\n  return doc;\n};\n","import axios from 'axios';\r\nimport { authenticate } from '../components/auth';\r\n\r\nexport const axiosAuth = async () => {\r\n  try {\r\n    const getNewToken = async () => {\r\n      const doc = await authenticate();\r\n      const NEW_ACCESS_TOKEN = await doc.jwtClient.credentials.access_token;\r\n      const new_expiry_date = await doc.jwtClient.credentials.expiry_date;\r\n      // sessionStorage.clear();\r\n      sessionStorage.setItem('token', NEW_ACCESS_TOKEN);\r\n      sessionStorage.setItem('expiry_date', new_expiry_date);\r\n      console.log('NEW TOKEN');\r\n    };\r\n\r\n    const ACCESS_TOKEN = sessionStorage.getItem('token');\r\n    const expiry_date = sessionStorage.getItem('expiry_date');\r\n    \r\n    if (expiry_date < Date.now()) {\r\n      await getNewToken();\r\n    }\r\n\r\n    // console.log(expiry_date - Date.now());\r\n    // console.log(expiry_date);\r\n    // console.log(Date.now());\r\n    // console.log(Math.floor((expiry_date - Date.now()) / 1000));\r\n\r\n    return axios.create({\r\n      baseURL: `https://sheets.googleapis.com/v4/spreadsheets/`,\r\n      headers: {\r\n        Authorization: `Bearer ${ACCESS_TOKEN}`,\r\n        Accept: 'application/json',\r\n        'Content-Type': 'application/json',\r\n      },\r\n    });\r\n  } catch (err) {\r\n    console.error('Execute error', err);\r\n    return false;\r\n  }\r\n};\r\n","import { axiosAuth } from '../api/googleSheetsAPI';\nconst SHEET_ID = process.env.REACT_APP_SHEET_ID;\n\nexport const executeValuesUpdate = async (val) => {\n  try {\n    const googleSheetsAPI = await axiosAuth();\n\n    const range = 'Clients!H2';\n    const valueInputOption = 'USER_ENTERED';\n    const response = await googleSheetsAPI.put(\n      `${SHEET_ID}/values/${range}`,\n      {\n        // majorDimension: 'COLUMNS',\n        values: [[`'${val}`]],\n      },\n      { params: { valueInputOption: valueInputOption } }\n    );\n\n    console.log('Response executeValuesUpdate', response);\n  } catch (err) {\n    console.error('Execute error', err);\n  }\n};\n\nexport const executeBatchUpdateAddSheet = async (sheetDate) => {\n  try {\n    const googleSheetsAPI = await axiosAuth();\n    const response = await googleSheetsAPI.post(`${SHEET_ID}:batchUpdate`, {\n      requests: [\n        {\n          addSheet: {\n            properties: {\n              title: sheetDate,\n              rightToLeft: true,\n            },\n          },\n        },\n      ],\n    });\n\n    console.log(\n      'Response executeBatchUpdateAddSheet',\n      response.data.replies[0].addSheet.properties.sheetId\n    );\n    return response.data.replies[0].addSheet.properties.sheetId;\n  } catch (err) {\n    console.error('Execute error', err.data.error.message);\n    return false;\n  }\n};\n\nexport const executeBatchUpdateCutPaste = async (destSheetId) => {\n  try {\n    const googleSheetsAPI = await axiosAuth();\n    const response = await googleSheetsAPI.post(`${SHEET_ID}:batchUpdate`, {\n      requests: [\n        {\n          cutPaste: {\n            source: {\n              sheetId: 1187395242,\n            },\n            destination: {\n              sheetId: destSheetId,\n            },\n            pasteType: 'PASTE_NORMAL',\n          },\n        },\n      ],\n    });\n    console.log('Response executeBatchUpdateCutPaste', response);\n  } catch (err) {\n    console.error('Execute error', err);\n  }\n};\n\nexport const executeValuesAppendAddSheet = async () => {\n  try {\n    const googleSheetsAPI = await axiosAuth();\n\n    const range = 'Data!A1';\n    const valueInputOption = 'USER_ENTERED';\n    const response = await googleSheetsAPI.post(\n      `${SHEET_ID}/values/${range}:append`,\n      {\n        majorDimension: 'COLUMNS',\n        values: [\n          ['Name'],\n          ['Mobile No.'],\n          ['E-Mail'],\n          ['Membership'],\n          ['Check In'],\n          ['CheckIn Time'],\n          ['CheckOut Time'],\n          ['Duration'],\n          ['Approx. Duration'],\n          ['Cost'],\n          ['Check Out'],\n          [new Date().toLocaleDateString()],\n        ],\n      },\n      { params: { valueInputOption: valueInputOption } }\n    );\n\n    console.log('Response executeValuesAppendAddSheet', response);\n  } catch (err) {\n    console.error('Execute error', err);\n  }\n};\n\nexport const executeValuesAppendNewUserData = async (userData) => {\n  try {\n    const googleSheetsAPI = await axiosAuth();\n\n    const range = 'Clients!A3';\n    const valueInputOption = 'RAW';\n    const response = await googleSheetsAPI.post(\n      `${SHEET_ID}/values/${range}:append`,\n      {\n        majorDimension: 'COLUMNS',\n        values: [\n          // [new Date().toLocaleString()],\n          [userData.mobile],\n          [userData.userName],\n          [userData.email],\n          [userData.membership],\n        ],\n      },\n      { params: { valueInputOption: valueInputOption } }\n    );\n\n    console.log('Response executeValuesAppendNewUserData', response);\n  } catch (err) {\n    console.error('Execute error', err);\n  }\n};\n\nexport const executeValuesAppendCheckIn = async (checkInOut, valuesMatched) => {\n  try {\n    const googleSheetsAPI = await axiosAuth();\n\n    const range = 'Data!A2';\n    const valueInputOption = 'USER_ENTERED';\n    const response = await googleSheetsAPI.post(\n      `${SHEET_ID}/values/${range}:append`,\n      {\n        majorDimension: 'COLUMNS',\n        values: [\n          [valuesMatched[1]],\n          [`'${valuesMatched[0]}`],\n          [valuesMatched[2]],\n          [valuesMatched[3]],\n          [checkInOut],\n          [new Date().toLocaleTimeString()],\n        ],\n      },\n      { params: { valueInputOption: valueInputOption } }\n    );\n\n    console.log('Response executeValuesAppendCheckIn', response);\n  } catch (err) {\n    console.error('Execute error', err);\n  }\n};\n\nexport const executeValuesAppendCheckOut = async (\n  checkInOut,\n  rowNumber,\n  membership\n) => {\n  try {\n    const googleSheetsAPI = await axiosAuth();\n\n    const range = `Data!G${rowNumber}`;\n    const valueInputOption = 'USER_ENTERED';\n    const response = await googleSheetsAPI.post(\n      `${SHEET_ID}/values/${range}:append`,\n      {\n        majorDimension: 'COLUMNS',\n        values: [\n          [new Date().toLocaleTimeString()],\n          [`=TEXT(G${rowNumber}-F${rowNumber},\"h:mm\")`],\n          [\n            `=IF(H${rowNumber}*24<1,1,IF(OR(AND(H${rowNumber}*24-INT(H${rowNumber}*24)<=0.1),AND(H${rowNumber}*24-INT(H${rowNumber}*24)>0.5,H${rowNumber}*24-INT(H${rowNumber}*24)<=0.59)),FLOOR(H${rowNumber},\"00:30\")*24,CEILING(H${rowNumber},\"00:30\")*24))`,\n          ],\n          membership.includes('Not Member') ? [`=IF(I${rowNumber}>=6,60,I${rowNumber}*10)`] : [''],\n          [checkInOut],\n        ],\n      },\n      { params: { valueInputOption: valueInputOption } }\n    );\n\n    console.log('Response executeValuesAppendCheckOut', response);\n  } catch (err) {\n    console.error('Execute error', err);\n  }\n};\n\nexport const getSheetValues = async (range) => {\n  try {\n    const googleSheetsAPI = await axiosAuth();\n\n    const response = await googleSheetsAPI.get(`${SHEET_ID}/values/${range}`);\n\n    console.log('Response getSheetValuesDuration', response.data.values[0]);\n    return response.data.values[0];\n  } catch (err) {\n    console.error('Execute error', err);\n  }\n};\n","import React from 'react';\nimport { Link } from 'react-router-dom';\n\nclass Main extends React.Component {\n  state = {\n    showCheckInOut: false,\n    shrink: false,\n  };\n\n  onFormSubmitUser = async () => {\n    this.setState({ shrink: true }, this.callBackFunc);\n  };\n  onFormSubmitNewUser = async () => {\n    this.setState({ showCheckInOut: false, shrink: true }, this.callBackFunc);\n  };\n\n  callBackFunc() {\n    this.props.onSubmit({\n      showCheckInOut: this.state.showCheckInOut,\n      shrink: this.state.shrink,\n    });\n  }\n\n  render() {\n    const shrink =\n      this.state.shrink || window.location.pathname !== '/main' ? 'shrink' : '';\n    return (\n      <div>\n        {/* <img\n          className='mx-auto d-block'\n          src='logo.png'\n          alt='Logo'\n          width='100'\n          height='100'\n        /> */}\n        <div className='row ui container mt-3'>\n          <nav className='navbar navbar-light'>\n            <form className='container-fluid justify-content-center'>\n              <Link to='/main/user'>\n                <button\n                  className='btn btn-outline-success me-2 bg-dark'\n                  type='button'\n                  onClick={this.onFormSubmitUser}\n                >\n                  <img\n                    className={`mx-auto d-block user-img ${shrink}`}\n                    src='user-member.png'\n                    alt='user-member'\n                  />\n                  User\n                </button>\n              </Link>\n              <Link to='/main/new-user'>\n                <button\n                  className='btn btn-outline-success me-2 bg-dark'\n                  type='button'\n                  onClick={this.onFormSubmitNewUser}\n                >\n                  <img\n                    className={`mx-auto d-block user-img ${shrink}`}\n                    src='user-new-user.png'\n                    alt='user-new-user'\n                  />\n                  New User\n                </button>\n              </Link>\n            </form>\n          </nav>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default Main;\n","export const checkForMobNum = async (inputTerm) => {\n  console.log('::: Running checkForMobNum :::', inputTerm);\n\n  function validMobNum(inputTerm) {\n    let regexp = /^\\+?01[0-9]{9}$/;\n    return regexp.test(inputTerm);\n  }\n\n  if (validMobNum(inputTerm)) {\n    return true;\n  }\n  return false;\n};\n\nexport const checkForEmail = async (inputTerm) => {\n  console.log('::: Running checkForEmail :::', inputTerm);\n\n  function validEmail(inputTerm) {\n    let regexp =\n      /^[\\w]{1,}[\\w.+-]{0,}@[\\w-]{2,}([.][a-zA-Z]{2,}|[.][\\w-]{2,}[.][a-zA-Z]{2,})$/g;\n    return regexp.test(inputTerm);\n  }\n\n  if (validEmail(inputTerm)) {\n    return true;\n  }\n  return false;\n};\n\nexport const checkForUserName = async (inputTerm) => {\n  console.log('::: Running checkForUserName :::', inputTerm);\n\n  function validUserName(inputTerm) {\n    let regexp =\n      /^[\\u0600-\\u065F\\u066A-\\u06EF\\u06FA-\\u06FFa-zA-Z\\s]+[\\u0600-\\u065F\\u066A-\\u06EF\\u06FA-\\u06FFa-zA-Z-_\\s]*$/;\n    return regexp.test(inputTerm);\n  }\n\n  if (validUserName(inputTerm)) {\n    return true;\n  }\n  return false;\n};\n\nexport const checkForMembership = async (inputTerm) => {\n  console.log('::: Running checkForMembership :::', inputTerm);\n\n  function validMembership(inputTerm) {\n    let regexp = /\\w{1,}/;\n    return regexp.test(inputTerm);\n  }\n\n  if (validMembership(inputTerm)) {\n    return true;\n  }\n  return false;\n};\n","import React from 'react';\nimport { checkForMobNum } from './validation';\n\nclass SearchBar extends React.Component {\n  state = { term: '', validNumber: null };\n\n  componentDidMount() {\n    // http://localhost:3000/main/user/?mobile=01002485001\n    // https://stabraq.netlify.app/main/user/?mobile=01002485001\n\n    let mobile = new URLSearchParams(window.location.search).get('mobile');\n\n    if (mobile) {\n      this.setState({ term: mobile });\n      this.props.onSubmit(mobile);\n    }\n  }\n\n  onFormSubmit = async (event) => {\n    event.preventDefault();\n    const validNumber = await checkForMobNum(this.state.term);\n    this.setState({ validNumber: validNumber });\n\n    if (this.state.validNumber === false) return;\n    this.props.onSubmit(this.state.term);\n  };\n\n  render() {\n    return (\n      <div className='ui segment'>\n        <form onSubmit={this.onFormSubmit} className='ui form'>\n          <div className='field'>\n            <label>Search By Mobile Number</label>\n            <input\n              type='tel'\n              name='mobile'\n              value={this.state.term}\n              onChange={(e) => this.setState({ term: e.target.value })}\n              maxLength={11}\n              placeholder='01xxxxxxxxx'\n            />\n            {this.state.validNumber === null ||\n            this.state.validNumber === true ? (\n              ''\n            ) : (\n              <div className='alert alert-danger' role='alert'>\n                Enter valid mobile number\n              </div>\n            )}\n            <div className='mt-3'>\n              <button\n                className='ui primary button stabraq-bg'\n                onClick={this.onFormSubmit}\n                type='submit'\n              >\n                Submit\n              </button>\n            </div>\n          </div>\n        </form>\n      </div>\n    );\n  }\n}\n\nexport default SearchBar;\n","import React from 'react';\nimport {\n  checkForMobNum,\n  checkForEmail,\n  checkForUserName,\n  checkForMembership,\n} from './validation';\n\nclass NewUserForm extends React.Component {\n  state = {\n    userName: '',\n    mobile: '',\n    email: '',\n    membership: '',\n    validate: { userName: null, mobile: null, email: null, membership: null },\n  };\n\n  onNewUserFormSubmit = async (event) => {\n    event.preventDefault();\n\n    const validMobile = await checkForMobNum(this.state.mobile);\n    const validEmail = await checkForEmail(this.state.email);\n    const validUserName = await checkForUserName(this.state.userName);\n    const validMembership = await checkForMembership(this.state.membership);\n\n    this.setState({\n      validate: {\n        mobile: validMobile,\n        email: validEmail,\n        userName: validUserName,\n        membership: validMembership,\n      },\n    });\n\n    if (this.state.validate.mobile === false) return;\n    if (this.state.validate.email === false) return;\n    if (this.state.validate.userName === false) return;\n    if (this.state.validate.membership === false) return;\n\n    this.props.onSubmit({\n      userName: this.state.userName,\n      mobile: this.state.mobile,\n      email: this.state.email,\n      membership: this.state.membership,\n    });\n  };\n\n  myChangeHandler = (event) => {\n    let nam = event.target.name;\n    let val = event.target.value;\n    this.setState({ [nam]: val });\n  };\n\n  render() {\n    return (\n      <div className='ui segment'>\n        <form className='ui form'>\n          <div>\n            {this.state.userName !== '' && this.state.userName.length > 3 ? (\n              <h1>\n                {/[\\u0600-\\u06FF]/.test(this.state.userName)\n                  ? 'مرحبا '\n                  : 'Hello '}\n                {this.state.userName}\n              </h1>\n            ) : (\n              ''\n            )}\n          </div>\n          <div className='field'>\n            <label>User Name</label>\n            <input\n              type='text'\n              name='userName'\n              placeholder='يفضل باللغة العربية'\n              onChange={this.myChangeHandler}\n            />\n            {this.state.validate.userName === null ||\n            this.state.validate.userName === true ? (\n              ''\n            ) : (\n              <div className='alert alert-danger' role='alert'>\n                Enter valid User Name\n              </div>\n            )}\n            <label>Mobile Number</label>\n            <input\n              type='tel'\n              name='mobile'\n              placeholder='01xxxxxxxxx'\n              onChange={this.myChangeHandler}\n              maxLength={11}\n            />\n            {this.state.validate.mobile === null ||\n            this.state.validate.mobile === true ? (\n              ''\n            ) : (\n              <div className='alert alert-danger' role='alert'>\n                Enter valid mobile number\n              </div>\n            )}\n            <label>E-Mail Address</label>\n            <input\n              type='text'\n              name='email'\n              placeholder='stabraq@stabraq.com'\n              onChange={this.myChangeHandler}\n            />\n            {this.state.validate.email === null ||\n            this.state.validate.email === true ? (\n              ''\n            ) : (\n              <div className='alert alert-danger' role='alert'>\n                Enter valid E-Mail Address\n              </div>\n            )}\n            <label>\n              Membership\n              <select name='membership' onChange={this.myChangeHandler}>\n                <option value=''>...Select...</option>\n                <option value='Not Member'>Not Member</option>\n                <option value='Green'>Green</option>\n                <option value='Orange'>Orange</option>\n                <option value='Business'>Business</option>\n                <option value='Ten Days'>Ten Days</option>\n                <option value='Hours'>Hours</option>\n              </select>\n            </label>\n            {this.state.validate.membership === null ||\n            this.state.validate.membership === true ? (\n              ''\n            ) : (\n              <div className='alert alert-danger' role='alert'>\n                Select Membership\n              </div>\n            )}\n\n            <button\n              className='ui primary button stabraq-bg'\n              onClick={this.onNewUserFormSubmit}\n              type='submit'\n            >\n              Submit\n            </button>\n          </div>\n        </form>\n      </div>\n    );\n  }\n}\n\nexport default NewUserForm;\n","import React from 'react';\n\nconst CountDownTimer = ({ hoursMinSecs, onTimeUp }) => {\n  const { hours = 0, minutes = 0, seconds = 60 } = hoursMinSecs;\n  const [[hrs, mins, secs], setTime] = React.useState([\n    hours,\n    minutes,\n    seconds,\n  ]);\n\n  const tick = () => {\n    if (hrs === 0 && mins === 0 && secs === 0) {\n      //   reset();\n      onTimeUp(true);\n    } else if (mins === 0 && secs === 0) {\n      setTime([hrs - 1, 59, 59]);\n    } else if (secs === 0) {\n      setTime([hrs, mins - 1, 59]);\n    } else {\n      setTime([hrs, mins, secs - 1]);\n    }\n  };\n\n  //   const reset = () =>\n  //     setTime([parseInt(hours), parseInt(minutes), parseInt(seconds)]);\n\n  React.useEffect(() => {\n    const timerId = setInterval(() => tick(), 1000);\n    return () => clearInterval(timerId);\n  });\n\n  return (\n    <div>\n      <p>{`${hrs.toString().padStart(2, '0')}:${mins\n        .toString()\n        .padStart(2, '0')}:${secs.toString().padStart(2, '0')}`}</p>\n    </div>\n  );\n};\n\nexport default CountDownTimer;\n","import React from 'react';\n\nclass CheckInOut extends React.Component {\n  state = { checkInOut: '' };\n\n  onCheckInOut = (event) => {\n    event.preventDefault();\n\n    this.setState({ checkInOut: event.target.value }, function () {\n      this.props.onSubmit(this.state.checkInOut);\n    });\n  };\n\n  render() {\n    return (\n      <div className='ui segment'>\n        <button\n          className='ui primary button stabraq-bg'\n          name='checkIn'\n          value='Check In'\n          onClick={this.onCheckInOut}\n          type='submit'\n        >\n          Check In\n        </button>\n        <button\n          className='ui primary button stabraq-bg'\n          name='checkOut'\n          value='Check Out'\n          onClick={this.onCheckInOut}\n          type='submit'\n        >\n          Check Out\n        </button>\n      </div>\n    );\n  }\n}\n\nexport default CheckInOut;\n","import React from 'react';\n\nclass LoadingSpinner extends React.Component {\n  render() {\n    return (\n      <div className='text-center'>\n        <div className='spinner-border text-stabraq' role='status'>\n          <span className='visually-hidden'>Loading...</span>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default LoadingSpinner;\n","import React from 'react';\n\nclass MyModal extends React.Component {\n  openPage(event, href) {\n    event.preventDefault();\n    window.history.pushState({}, '', href);\n\n    const navEvent = new PopStateEvent('popstate');\n    window.dispatchEvent(navEvent);\n  }\n\n  render() {\n    return (\n      <div>\n        <div\n          className='modal fade'\n          id='exampleModal'\n          tabIndex='-1'\n          aria-label='exampleModalLabel'\n          aria-hidden='true'\n        >\n          <div className='modal-dialog modal-dialog-centered'>\n            <div className='modal-content'>\n              <div className='modal-header'>\n                {/* <h5 className='modal-title' id='exampleModalLabel'>\n                  Modal title\n                </h5> */}\n                <button\n                  type='button'\n                  className='btn-close'\n                  data-bs-dismiss='modal'\n                  aria-label='Close'\n                ></button>\n              </div>\n              <div className='modal-body text-center'>{this.props.body}</div>\n              <div className='modal-footer'>\n                <button\n                  type='button'\n                  className='btn btn-stabraq'\n                  data-bs-dismiss='modal'\n                  onClick={(event) => {\n                    switch (this.props.closeAction) {\n                      case 'REFRESH':\n                        return (window.location.pathname = '/');\n                      case 'NEW-USER':\n                        return this.openPage(event, '/main/new-user');\n                      default:\n                        return '';\n                    }\n                  }}\n                >\n                  Close\n                </button>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default MyModal;\n","import React from 'react';\r\nimport { axiosAuth } from '../api/googleSheetsAPI';\r\nimport {\r\n  executeValuesUpdate,\r\n  executeBatchUpdateAddSheet,\r\n  executeBatchUpdateCutPaste,\r\n  executeValuesAppendAddSheet,\r\n  executeValuesAppendNewUserData,\r\n  executeValuesAppendCheckIn,\r\n  executeValuesAppendCheckOut,\r\n  getSheetValues,\r\n} from './executeFunc';\r\nimport Main from './Main';\r\nimport SearchBar from './SearchBar';\r\nimport NewUserForm from './NewUserForm';\r\nimport CountDownTimer from './CountDownTimer';\r\nimport CheckInOut from './CheckInOut';\r\nimport LoadingSpinner from './LoadingSpinner';\r\nimport MyModal from './MyModal';\r\nimport 'bootstrap/dist/css/bootstrap.min.css';\r\nimport 'bootstrap/dist/js/bootstrap.bundle.min';\r\nimport '../styles.css';\r\nimport { Modal } from 'bootstrap';\r\nimport { BrowserRouter, Route, Link } from 'react-router-dom';\r\n\r\nconst hoursMinSecs = { hours: 0, minutes: 59, seconds: 0 };\r\n\r\nclass App extends React.Component {\r\n  state = {\r\n    numberExists: '',\r\n    firstLoad: false,\r\n    valuesMatched: [],\r\n    checkInOut: '',\r\n    duration: '',\r\n    approxDuration: '',\r\n    cost: '',\r\n    newSheetId: 0,\r\n    checkedIn: false,\r\n    checkedOut: false,\r\n    loading: false,\r\n    modalBody: '',\r\n    modalCloseAction: '',\r\n    sheetDate: '',\r\n    showCheckInOut: false,\r\n    shrink: false,\r\n    shrinkLogo: false,\r\n    timeUp: false,\r\n  };\r\n\r\n  countDownTimerUp = async (value) => {\r\n    this.setState({ timeUp: value });\r\n  };\r\n  // Function to Add new Sheet for new day\r\n  getNewSheetId = async () => {\r\n    const newSheetId = await executeBatchUpdateAddSheet(\r\n      this.state.sheetDate[0]\r\n    );\r\n    if (newSheetId === false) return;\r\n    this.setState({\r\n      newSheetId: newSheetId,\r\n    });\r\n    await executeBatchUpdateCutPaste(this.state.newSheetId);\r\n    await executeValuesAppendAddSheet();\r\n  };\r\n\r\n  doShrinkLogo = async () => {\r\n    this.setState({\r\n      shrinkLogo: true,\r\n    });\r\n  };\r\n\r\n  onUserSubmit = async (mainData) => {\r\n    this.setState({\r\n      showCheckInOut: mainData.showCheckInOut,\r\n      shrink: mainData.shrink,\r\n    });\r\n  };\r\n\r\n  onSearchSubmit = async (term) => {\r\n    // Show LoadingSpinner\r\n    this.setState({ loading: true });\r\n\r\n    // First Load\r\n    if (this.state.firstLoad) {\r\n      this.setState({ firstLoad: false });\r\n    }\r\n\r\n    // Check to Add new Sheet for new day\r\n    const getSheetValuesSheetDateRange = 'Data!L1';\r\n    const sheetDate = await getSheetValues(getSheetValuesSheetDateRange);\r\n    this.setState({ sheetDate: sheetDate });\r\n\r\n    const dateOne = this.state.sheetDate;\r\n    const dateTwo = new Date().toLocaleDateString();\r\n    const diff = await this.checkDateToAddSheet(dateOne, dateTwo);\r\n\r\n    if (diff >= 1) {\r\n      await this.getNewSheetId();\r\n    }\r\n\r\n    // Search for the user by mobile number\r\n    await executeValuesUpdate(term);\r\n    const getSheetValuesNumberExistsRange = 'Clients!I2';\r\n    const numberExists = await getSheetValues(getSheetValuesNumberExistsRange);\r\n    this.setState({ numberExists: numberExists });\r\n    if (this.state.numberExists.includes('Exists')) {\r\n      const getSheetValuesMatchedRange = 'Clients!J2:Q2';\r\n      const valuesMatched = await getSheetValues(getSheetValuesMatchedRange);\r\n      this.setState({ valuesMatched: valuesMatched });\r\n    }\r\n\r\n    // Hide LoadingSpinner\r\n    this.setState({ loading: false });\r\n\r\n    // Toggle showCheckInOut\r\n    this.state.numberExists.includes('') ||\r\n    this.state.numberExists.includes('Not Exists')\r\n      ? this.setState({\r\n          showCheckInOut: false,\r\n        })\r\n      : this.setState({\r\n          showCheckInOut: true,\r\n        });\r\n\r\n    // Show Modal\r\n    this.setState({\r\n      modalBody: (\r\n        <div className='text-center'>\r\n          {this.state.numberExists.includes('Exists') ? (\r\n            <h1>\r\n              {/[\\u0600-\\u06FF]/.test(this.state.valuesMatched[1])\r\n                ? 'مرحبا'\r\n                : 'Welcome Back'}\r\n              <br />\r\n              {this.state.valuesMatched[1]}\r\n            </h1>\r\n          ) : (\r\n            <div className='text-center'>\r\n              <p>{this.state.numberExists}</p>\r\n            </div>\r\n          )}\r\n        </div>\r\n      ),\r\n      modalCloseAction: this.state.numberExists.includes('Not Exists')\r\n        ? 'NEW-USER'\r\n        : null,\r\n    });\r\n    let myModal = new Modal(document.getElementById('exampleModal'), {});\r\n    if (\r\n      (this.state.numberExists.includes('Exists') &&\r\n        this.state.valuesMatched[6].includes('Not Checked In')) ||\r\n      this.state.numberExists.includes('Not Exists')\r\n    ) {\r\n      myModal.show();\r\n    }\r\n  };\r\n\r\n  onNewUserFormSubmit = async (userData) => {\r\n    console.log(userData);\r\n    if (this.state.firstLoad) {\r\n      this.setState({ firstLoad: false });\r\n    }\r\n\r\n    await executeValuesAppendNewUserData(userData);\r\n    this.setState({\r\n      modalBody: (\r\n        <div className='text-center'>\r\n          <h1>Form Submitted</h1>\r\n        </div>\r\n      ),\r\n    });\r\n    let myModal = new Modal(document.getElementById('exampleModal'), {});\r\n    myModal.show();\r\n    await executeValuesUpdate(userData.mobile);\r\n    const getSheetValuesMatchedRange = 'Clients!J2:Q2';\r\n    const valuesMatched = await getSheetValues(getSheetValuesMatchedRange);\r\n    this.setState({ valuesMatched: valuesMatched });\r\n    this.setState({\r\n      showCheckInOut: true,\r\n    });\r\n  };\r\n\r\n  checkDateToAddSheet = async (dataDateOne, dataDateTwo) => {\r\n    const dateOne = new Date(dataDateOne);\r\n    const dateTwo = new Date(dataDateTwo);\r\n    const diffTime = Math.abs(dateTwo - dateOne);\r\n    const diffDays = Math.ceil(diffTime / (1000 * 60 * 60 * 24));\r\n\r\n    return diffDays;\r\n  };\r\n\r\n  onCheckInOutSubmit = async (checkInOut) => {\r\n    if (checkInOut.includes('Check In')) {\r\n      console.log('Welcome CheckIn');\r\n      if (this.state.valuesMatched[6].includes('Not Checked In') === false) {\r\n        this.setState({ checkedIn: true });\r\n        this.setState({\r\n          modalBody: (\r\n            <div>\r\n              <h1>You already Checked In</h1>\r\n            </div>\r\n          ),\r\n          modalCloseAction: 'REFRESH',\r\n        });\r\n        let myModal = new Modal(document.getElementById('exampleModal'), {});\r\n        myModal.show();\r\n        return;\r\n      } else {\r\n        await executeValuesAppendCheckIn(checkInOut, this.state.valuesMatched);\r\n        this.setState({\r\n          modalBody: (\r\n            <div>\r\n              <h1>Checked In Successfully</h1>\r\n              {this.state.valuesMatched[3].includes('Not Member') === false &&\r\n              this.state.valuesMatched[4].includes('/') ? (\r\n                <div>\r\n                  <h1>Expiry Date: {this.state.valuesMatched[4]}</h1>\r\n                  <h1>\r\n                    Remaining Days:\r\n                    {this.state.valuesMatched[5].includes('-')\r\n                      ? `Expired ${this.state.valuesMatched[5]}`\r\n                      : ` ${this.state.valuesMatched[5]} `}\r\n                    Days\r\n                  </h1>\r\n                </div>\r\n              ) : (\r\n                ''\r\n              )}\r\n            </div>\r\n          ),\r\n          modalCloseAction: 'REFRESH',\r\n        });\r\n        let myModal = new Modal(document.getElementById('exampleModal'), {});\r\n        myModal.show();\r\n      }\r\n    } else {\r\n      console.log('Welcome CheckOut');\r\n      if (this.state.valuesMatched[7].includes('Check Out')) {\r\n        this.setState({ checkedOut: true });\r\n        this.setState({\r\n          modalBody: (\r\n            <div>\r\n              <h1>You already Checked Out</h1>\r\n            </div>\r\n          ),\r\n          modalCloseAction: 'REFRESH',\r\n        });\r\n        let myModal = new Modal(document.getElementById('exampleModal'), {});\r\n        myModal.show();\r\n        return;\r\n      } else if (this.state.valuesMatched[7].includes('Not Checked In')) {\r\n        this.setState({\r\n          modalBody: (\r\n            <div>\r\n              <h1>{this.state.valuesMatched[7]}</h1>\r\n            </div>\r\n          ),\r\n          modalCloseAction: 'REFRESH',\r\n        });\r\n        let myModal = new Modal(document.getElementById('exampleModal'), {});\r\n        myModal.show();\r\n        return;\r\n      } else {\r\n        await executeValuesAppendCheckOut(\r\n          checkInOut,\r\n          this.state.valuesMatched[6],\r\n          this.state.valuesMatched[3]\r\n        );\r\n        const getSheetValuesDurationRange = `Data!H${this.state.valuesMatched[6]}:J${this.state.valuesMatched[6]}`;\r\n        const resData = await getSheetValues(getSheetValuesDurationRange);\r\n        this.setState({\r\n          duration: resData[0],\r\n          approxDuration: resData[1],\r\n          cost: resData[2],\r\n        });\r\n        this.setState({\r\n          modalBody: (\r\n            <div>\r\n              {this.state.duration.includes('') ? (\r\n                <div>\r\n                  <h1>Duration: {this.state.duration} Hr:Min</h1>\r\n                  <h1>Approx. Duration: {this.state.approxDuration} Hours</h1>\r\n                  {this.state.valuesMatched[3].includes('Not Member') ? (\r\n                    <h1>Cost: {this.state.cost} EGP</h1>\r\n                  ) : (\r\n                    ''\r\n                  )}\r\n                </div>\r\n              ) : (\r\n                ''\r\n              )}\r\n            </div>\r\n          ),\r\n          modalCloseAction: 'REFRESH',\r\n        });\r\n        let myModal = new Modal(document.getElementById('exampleModal'), {});\r\n        myModal.show();\r\n      }\r\n    }\r\n  };\r\n\r\n  loadApiScript = async () => {\r\n    this.setState({\r\n      firstLoad: true,\r\n    });\r\n\r\n    await axiosAuth();\r\n  };\r\n\r\n  componentDidMount() {\r\n    this.loadApiScript();\r\n  }\r\n\r\n  render() {\r\n    const shrinkLogo =\r\n      this.state.shrinkLogo || window.location.pathname !== '/'\r\n        ? 'shrink-logo'\r\n        : '';\r\n    return (\r\n      <BrowserRouter>\r\n        <div className='ui container mt-3'>\r\n          <Link to='/main'>\r\n            <div className='text-center'>\r\n              <button\r\n                className='btn me-2 no-btn-focus'\r\n                type='button'\r\n                onClick={this.doShrinkLogo}\r\n              >\r\n                <img\r\n                  className={`mx-auto d-block logo-img ${shrinkLogo}`}\r\n                  src='logo.png'\r\n                  alt='Logo'\r\n                />\r\n              </button>\r\n            </div>\r\n          </Link>\r\n\r\n          <Route\r\n            path='/main'\r\n            children={<Main onSubmit={this.onUserSubmit} />}\r\n          ></Route>\r\n          <Route\r\n            path='/main/user'\r\n            exact\r\n            children={<SearchBar onSubmit={this.onSearchSubmit} />}\r\n          ></Route>\r\n          <Route\r\n            path='/main/new-user'\r\n            exact\r\n            children={<NewUserForm onSubmit={this.onNewUserFormSubmit} />}\r\n          ></Route>\r\n\r\n          {this.state.loading ? <LoadingSpinner /> : null}\r\n\r\n          {this.state.showCheckInOut ? (\r\n            <CheckInOut onSubmit={this.onCheckInOutSubmit} />\r\n          ) : null}\r\n\r\n          <MyModal\r\n            body={this.state.modalBody}\r\n            closeAction={this.state.modalCloseAction}\r\n          />\r\n          <div className='container'>\r\n            {this.state.firstLoad ? (\r\n              <CountDownTimer\r\n                hoursMinSecs={hoursMinSecs}\r\n                onTimeUp={this.countDownTimerUp}\r\n              />\r\n            ) : null}\r\n            {/* <button onClick={this.getNewSheetId}>AddSheet</button> */}\r\n            {this.state.timeUp ? <div>Time Up</div> : null}\r\n          </div>\r\n        </div>\r\n      </BrowserRouter>\r\n    );\r\n  }\r\n}\r\n\r\nexport default App;\r\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './components/App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}