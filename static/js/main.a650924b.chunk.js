(this["webpackJsonpgoogle-sheets-api"]=this["webpackJsonpgoogle-sheets-api"]||[]).push([[0],{118:function(e,t){},264:function(e,t){},266:function(e,t){},309:function(e,t){},311:function(e,t){},343:function(e,t){},345:function(e,t){},346:function(e,t){},351:function(e,t){},353:function(e,t){},359:function(e,t){},361:function(e,t){},380:function(e,t){},392:function(e,t){},395:function(e,t){},432:function(e,t,n){},433:function(e,t,n){"use strict";n.r(t);var a=n(2),r=n.n(a),s=n(229),c=n.n(s),o=n(1),i=n.n(o),u=n(6),l=n(10),h=n(11),d=n(13),p=n(12),m=n(121),b=n.n(m),x=new(n(230).GoogleSpreadsheet)("1rcXV3o0Xd1SmQBVN7UlZHZeEWVurGEW96uI4jpS2XN8"),j=function(){var e=Object(u.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x.useServiceAccountAuth({private_key:"-----BEGIN PRIVATE KEY-----\nMIIEvAIBADANBgkqhkiG9w0BAQEFAASCBKYwggSiAgEAAoIBAQCxG8V1ApB+kUW/\nXjutSZrJK/TMhi+EG+RlnYR2V+9NmUwvfiqhR3Y12XLau7cQhw0zux8yoKCghQjt\nM3x0PKnJc4Ln/wJG49fVITL9XawQfy21tjZVyAd3ODiBJ54UsQEUCd8SUUAOAyoA\nSCoYU0LVxLUe1Y5kXya6Jmy566XQA6ID00sih4nAGkNQrjEp5VWnm8st+gW7yjGo\nhyeoenIwGTc69aJGIZUXi8SXE+lu9wHfV7BXItFC1jkh69OLEImRzH5LuwAOU0xe\nyQnPjbagdY5OGVmwxJG9+iykcR5+iRRCZEKkRKgT8YZ13Z+UJXLatyrQThhSM+xR\nYxYM8Ga5AgMBAAECggEAAeviNYXEmYrr7cqQ7S1aP4p5imp+Q3ml/bA6yqnjj7z1\nBaLhxYQn9SeZxmO49bXxX7lM+lihxXwL/77KP9yUnvng1rF+jdRU+Bv3GKaWgktO\n7KTAbCfSZOm4OzZ50ZGmCFifEezNvBkusHgX9NGabQVITcBVXiNmISjfjxjOYLZU\nwUXPBfp7+byxdafqM86ek9seBCHvZg/5QcK/VqiRy5b1AkwGx7zrYXllhNgt3G7L\n0uT+LcJiLvNd3xxxL9I0WZXh2RRbo9cODurqHrFo9c4YcLZpoAO3+1Zvcz5AD8q8\ndGo1jAtuuMbrZKGRt+Vtz3pQHeiIGwG8qmDYXmY6LQKBgQDb0tY5gUQpjkvnf/OG\ngLczBYEXTrxHqgC9jIFio6v676pXcT1A+na7zMu8kDU41ceXQ3v/KI4PbXn9uMlm\n5/rrAVJVxkGlE4Y3k7g4lNc8L55YDw6qMLhtCGw/sVvmlNJ7UdgFZUmqsj4rowQ2\nJ/us7jkrhp0tUZi/yJYwJbTYHwKBgQDOQVki/UE7Y5z1yzGJRpbF7XdIfD5Fc5aS\nFvruo5/a7hHDnLNPvNVK7ZNjCMdkZ/sdqwvpzM2qq2VMKUqktgbLpaMMc2WnPYV3\ndWHRAraaaIoST0wYH224T95LZmikRlINiyIJTnhfmf+gHcEphmTtkEX5coEGiGdx\nn6j7x1VGJwKBgEIccK0uwU82KoHfK2BiSbagiyh1V46+BCb9oNQHoWuAtNxDhEaM\njTUB7KwzOq5zLOnDNAGTMtZU+IFkF75JOl9/MEH3tDpvWshQNvFdYjYJpDebn69z\no6O3CsdFEfyQ+ZR5Etzcj4E0xhndlyCqebiSlMMQYykEB0p2iyTD0lXFAoGAChPD\nSSRahY5OYuv0laJvR2hcxZvcZwRIvQaGaBZyfv3WvFnxoNm3ChwlcVdCdrNl34M1\n58xr2ATbxCbYUMfb+SM0ni0dMFifJsEDcHTTeyPUaySYsS0H7VNppwFv52bQJ30+\nwnmlA/bAOJB7mY3JbJn58UAY8brEYxbL6NFKZ00CgYAfXCnsmKsUysMDamcaEexG\n0hHxEsHU/ID7d7/JLLHdHkZENz0KcGngz5GJCYj1l5IQ94r6cOVlN61B4/RSHFzB\nZbkgfEcBkblxZt50yZ/3efN4Vlx6vIM+lsBEQZ3oSwl2rNNRFmObPl72rZ7Gv4AU\nuDzsNYy5972Rx5imLZYIUA==\n-----END PRIVATE KEY-----\n".replace(/\\n/gm,"\n"),client_email:"stabraq@stabraq-workspace-logbook.iam.gserviceaccount.com"});case 2:return e.abrupt("return",x);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),v=function(){var e=Object(u.a)(i.a.mark((function e(){var t,n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,t=function(){var e=Object(u.a)(i.a.mark((function e(){var t,n,a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j();case 2:return t=e.sent,e.next=5,t.jwtClient.credentials.access_token;case 5:return n=e.sent,e.next=8,t.jwtClient.credentials.expiry_date;case 8:a=e.sent,sessionStorage.setItem("token",n),sessionStorage.setItem("expiry_date",a),console.log("NEW TOKEN");case 12:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),n=sessionStorage.getItem("token"),!(sessionStorage.getItem("expiry_date")<Date.now())){e.next=7;break}return e.next=7,t();case 7:return e.abrupt("return",b.a.create({baseURL:"https://sheets.googleapis.com/v4/spreadsheets/",headers:{Authorization:"Bearer ".concat(n),Accept:"application/json","Content-Type":"application/json"}}));case 10:return e.prev=10,e.t0=e.catch(0),console.error("Execute error",e.t0),e.abrupt("return",!1);case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}}(),f="1rcXV3o0Xd1SmQBVN7UlZHZeEWVurGEW96uI4jpS2XN8",O=function(){var e=Object(u.a)(i.a.mark((function e(t){var n,a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,v();case 3:return n=e.sent,"Clients!H2","USER_ENTERED",e.next=8,n.put("".concat(f,"/values/").concat("Clients!H2"),{values:[["'".concat(t)]]},{params:{valueInputOption:"USER_ENTERED"}});case 8:a=e.sent,console.log("Response executeValuesUpdate",a),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),console.error("Execute error",e.t0);case 15:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(t){return e.apply(this,arguments)}}(),k=function(){var e=Object(u.a)(i.a.mark((function e(t){var n,a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,v();case 3:return n=e.sent,e.next=6,n.post("".concat(f,":batchUpdate"),{requests:[{addSheet:{properties:{title:t,rightToLeft:!0}}}]});case 6:return a=e.sent,console.log("Response executeBatchUpdateAddSheet",a.data.replies[0].addSheet.properties.sheetId),e.abrupt("return",a.data.replies[0].addSheet.properties.sheetId);case 11:return e.prev=11,e.t0=e.catch(0),console.error("Execute error",e.t0.data.error.message),e.abrupt("return",!1);case 15:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t){return e.apply(this,arguments)}}(),w=function(){var e=Object(u.a)(i.a.mark((function e(t){var n,a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,v();case 3:return n=e.sent,e.next=6,n.post("".concat(f,":batchUpdate"),{requests:[{cutPaste:{source:{sheetId:1187395242},destination:{sheetId:t},pasteType:"PASTE_NORMAL"}}]});case 6:a=e.sent,console.log("Response executeBatchUpdateCutPaste",a),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.error("Execute error",e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}(),g=function(){var e=Object(u.a)(i.a.mark((function e(){var t,n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,v();case 3:return t=e.sent,"Data!A1","USER_ENTERED",e.next=8,t.post("".concat(f,"/values/").concat("Data!A1",":append"),{majorDimension:"COLUMNS",values:[["Name"],["Mobile No."],["E-Mail"],["Membership"],["Check In"],["CheckIn Time"],["CheckOut Time"],["Duration"],["Approx. Duration"],["Cost"],["Check Out"],[(new Date).toLocaleDateString()]]},{params:{valueInputOption:"USER_ENTERED"}});case 8:n=e.sent,console.log("Response executeValuesAppendAddSheet",n),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),console.error("Execute error",e.t0);case 15:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(){return e.apply(this,arguments)}}(),S=function(){var e=Object(u.a)(i.a.mark((function e(t){var n,a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,v();case 3:return n=e.sent,"Clients!A3","RAW",e.next=8,n.post("".concat(f,"/values/").concat("Clients!A3",":append"),{majorDimension:"COLUMNS",values:[[t.mobile],[t.userName],[t.email],[t.membership]]},{params:{valueInputOption:"RAW"}});case 8:a=e.sent,console.log("Response executeValuesAppendNewUserData",a),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),console.error("Execute error",e.t0);case 15:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(t){return e.apply(this,arguments)}}(),N=function(){var e=Object(u.a)(i.a.mark((function e(t,n){var a,r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,v();case 3:return a=e.sent,"Data!A2","USER_ENTERED",e.next=8,a.post("".concat(f,"/values/").concat("Data!A2",":append"),{majorDimension:"COLUMNS",values:[[n[1]],["'".concat(n[0])],[n[2]],[n[3]],[t],[(new Date).toLocaleTimeString()]]},{params:{valueInputOption:"USER_ENTERED"}});case 8:r=e.sent,console.log("Response executeValuesAppendCheckIn",r),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),console.error("Execute error",e.t0);case 15:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(t,n){return e.apply(this,arguments)}}(),E=function(){var e=Object(u.a)(i.a.mark((function e(t,n,a){var r,s,c;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,v();case 3:return r=e.sent,s="Data!G".concat(n),"USER_ENTERED",e.next=8,r.post("".concat(f,"/values/").concat(s,":append"),{majorDimension:"COLUMNS",values:[[(new Date).toLocaleTimeString()],["=TEXT(G".concat(n,"-F").concat(n,',"h:mm")')],["=IF(H".concat(n,"*24<1,1,IF(OR(AND(H").concat(n,"*24-INT(H").concat(n,"*24)<=0.1),AND(H").concat(n,"*24-INT(H").concat(n,"*24)>0.5,H").concat(n,"*24-INT(H").concat(n,"*24)<=0.59)),FLOOR(H").concat(n,',"00:30")*24,CEILING(H').concat(n,',"00:30")*24))')],a.includes("Not Member")?["=IF(I".concat(n,">=6,60,I").concat(n,"*10)")]:[""],[t]]},{params:{valueInputOption:"USER_ENTERED"}});case 8:c=e.sent,console.log("Response executeValuesAppendCheckOut",c),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),console.error("Execute error",e.t0);case 15:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(t,n,a){return e.apply(this,arguments)}}(),y=function(){var e=Object(u.a)(i.a.mark((function e(t){var n,a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,v();case 3:return n=e.sent,e.next=6,n.get("".concat(f,"/values/").concat(t));case 6:return a=e.sent,console.log("Response getSheetValuesDuration",a.data.values[0]),e.abrupt("return",a.data.values[0]);case 11:e.prev=11,e.t0=e.catch(0),console.error("Execute error",e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t){return e.apply(this,arguments)}}(),C=n(55),I=n(0),A=function(e){Object(d.a)(n,e);var t=Object(p.a)(n);function n(){var e;Object(l.a)(this,n);for(var a=arguments.length,r=new Array(a),s=0;s<a;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={showCheckInOut:!1,shrink:!1},e.onFormSubmitUser=Object(u.a)(i.a.mark((function t(){return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.setState({shrink:!0},e.callBackFunc);case 1:case"end":return t.stop()}}),t)}))),e.onFormSubmitNewUser=Object(u.a)(i.a.mark((function t(){return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.setState({showCheckInOut:!1,shrink:!0},e.callBackFunc);case 1:case"end":return t.stop()}}),t)}))),e}return Object(h.a)(n,[{key:"callBackFunc",value:function(){this.props.onSubmit({showCheckInOut:this.state.showCheckInOut,shrink:this.state.shrink})}},{key:"render",value:function(){var e=this.state.shrink||"/main"!==window.location.pathname?"shrink":"";return Object(I.jsx)("div",{children:Object(I.jsx)("div",{className:"row ui container mt-3",children:Object(I.jsx)("nav",{className:"navbar navbar-light",children:Object(I.jsxs)("form",{className:"container-fluid justify-content-center",children:[Object(I.jsx)(C.b,{to:"/main/user",children:Object(I.jsxs)("button",{className:"btn btn-outline-success me-2 bg-dark",type:"button",onClick:this.onFormSubmitUser,children:[Object(I.jsx)("img",{className:"mx-auto d-block user-img ".concat(e),src:"user-member.png",alt:"user-member"}),"User"]})}),Object(I.jsx)(C.b,{to:"/main/new-user",children:Object(I.jsxs)("button",{className:"btn btn-outline-success me-2 bg-dark",type:"button",onClick:this.onFormSubmitNewUser,children:[Object(I.jsx)("img",{className:"mx-auto d-block user-img ".concat(e),src:"user-new-user.png",alt:"user-new-user"}),"New User"]})})]})})})})}}]),n}(r.a.Component),M=function(){var e=Object(u.a)(i.a.mark((function e(t){var n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=function(e){return/^\+?01[0-9]{9}$/.test(e)},console.log("::: Running checkForMobNum :::",t),!n(t)){e.next=4;break}return e.abrupt("return",!0);case 4:return e.abrupt("return",!1);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),D=function(){var e=Object(u.a)(i.a.mark((function e(t){var n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=function(e){return/^[\w]{1,}[\w.+-]{0,}@[\w-]{2,}([.][a-zA-Z]{2,}|[.][\w-]{2,}[.][a-zA-Z]{2,})$/g.test(e)},console.log("::: Running checkForEmail :::",t),!n(t)){e.next=4;break}return e.abrupt("return",!0);case 4:return e.abrupt("return",!1);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),U=function(){var e=Object(u.a)(i.a.mark((function e(t){var n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=function(e){return/^[\u0600-\u065F\u066A-\u06EF\u06FA-\u06FFa-zA-Z\s]+[\u0600-\u065F\u066A-\u06EF\u06FA-\u06FFa-zA-Z-_\s]*$/.test(e)},console.log("::: Running checkForUserName :::",t),!n(t)){e.next=4;break}return e.abrupt("return",!0);case 4:return e.abrupt("return",!1);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),R=function(){var e=Object(u.a)(i.a.mark((function e(t){var n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=function(e){return/\w{1,}/.test(e)},console.log("::: Running checkForMembership :::",t),!n(t)){e.next=4;break}return e.abrupt("return",!0);case 4:return e.abrupt("return",!1);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),F=function(e){Object(d.a)(n,e);var t=Object(p.a)(n);function n(){var e;Object(l.a)(this,n);for(var a=arguments.length,r=new Array(a),s=0;s<a;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={term:"",validNumber:null},e.onFormSubmit=function(){var t=Object(u.a)(i.a.mark((function t(n){var a;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n.preventDefault(),t.next=3,M(e.state.term);case 3:if(a=t.sent,e.setState({validNumber:a}),!1!==e.state.validNumber){t.next=7;break}return t.abrupt("return");case 7:e.props.onSubmit(e.state.term);case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e}return Object(h.a)(n,[{key:"componentDidMount",value:function(){var e=new URLSearchParams(window.location.search).get("mobile");e&&(this.setState({term:e}),this.props.onSubmit(e))}},{key:"render",value:function(){var e=this;return Object(I.jsx)("div",{className:"ui segment",children:Object(I.jsx)("form",{onSubmit:this.onFormSubmit,className:"ui form",children:Object(I.jsxs)("div",{className:"field",children:[Object(I.jsx)("label",{children:"Search By Mobile Number"}),Object(I.jsx)("input",{type:"tel",name:"mobile",value:this.state.term,onChange:function(t){return e.setState({term:t.target.value})},maxLength:11,placeholder:"01xxxxxxxxx"}),null===this.state.validNumber||!0===this.state.validNumber?"":Object(I.jsx)("div",{className:"alert alert-danger",role:"alert",children:"Enter valid mobile number"}),Object(I.jsx)("div",{className:"mt-3",children:Object(I.jsx)("button",{className:"ui primary button stabraq-bg",onClick:this.onFormSubmit,type:"submit",children:"Submit"})})]})})})}}]),n}(r.a.Component),L=n(44),B=function(e){Object(d.a)(n,e);var t=Object(p.a)(n);function n(){var e;Object(l.a)(this,n);for(var a=arguments.length,r=new Array(a),s=0;s<a;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={userName:"",mobile:"",email:"",membership:"",validate:{userName:null,mobile:null,email:null,membership:null}},e.onNewUserFormSubmit=function(){var t=Object(u.a)(i.a.mark((function t(n){var a,r,s,c;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n.preventDefault(),t.next=3,M(e.state.mobile);case 3:return a=t.sent,t.next=6,D(e.state.email);case 6:return r=t.sent,t.next=9,U(e.state.userName);case 9:return s=t.sent,t.next=12,R(e.state.membership);case 12:if(c=t.sent,e.setState({validate:{mobile:a,email:r,userName:s,membership:c}}),!1!==e.state.validate.mobile){t.next=16;break}return t.abrupt("return");case 16:if(!1!==e.state.validate.email){t.next=18;break}return t.abrupt("return");case 18:if(!1!==e.state.validate.userName){t.next=20;break}return t.abrupt("return");case 20:if(!1!==e.state.validate.membership){t.next=22;break}return t.abrupt("return");case 22:e.props.onSubmit({userName:e.state.userName,mobile:e.state.mobile,email:e.state.email,membership:e.state.membership});case 23:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.myChangeHandler=function(t){var n=t.target.name,a=t.target.value;e.setState(Object(L.a)({},n,a))},e}return Object(h.a)(n,[{key:"render",value:function(){return Object(I.jsx)("div",{className:"ui segment",children:Object(I.jsxs)("form",{className:"ui form",children:[Object(I.jsx)("div",{children:""!==this.state.userName&&this.state.userName.length>3?Object(I.jsxs)("h1",{children:[/[\u0600-\u06FF]/.test(this.state.userName)?"\u0645\u0631\u062d\u0628\u0627 ":"Hello ",this.state.userName]}):""}),Object(I.jsxs)("div",{className:"field",children:[Object(I.jsx)("label",{children:"User Name"}),Object(I.jsx)("input",{type:"text",name:"userName",placeholder:"\u064a\u0641\u0636\u0644 \u0628\u0627\u0644\u0644\u063a\u0629 \u0627\u0644\u0639\u0631\u0628\u064a\u0629",onChange:this.myChangeHandler}),null===this.state.validate.userName||!0===this.state.validate.userName?"":Object(I.jsx)("div",{className:"alert alert-danger",role:"alert",children:"Enter valid User Name"}),Object(I.jsx)("label",{children:"Mobile Number"}),Object(I.jsx)("input",{type:"tel",name:"mobile",placeholder:"01xxxxxxxxx",onChange:this.myChangeHandler,maxLength:11}),null===this.state.validate.mobile||!0===this.state.validate.mobile?"":Object(I.jsx)("div",{className:"alert alert-danger",role:"alert",children:"Enter valid mobile number"}),Object(I.jsx)("label",{children:"E-Mail Address"}),Object(I.jsx)("input",{type:"text",name:"email",placeholder:"stabraq@stabraq.com",onChange:this.myChangeHandler}),null===this.state.validate.email||!0===this.state.validate.email?"":Object(I.jsx)("div",{className:"alert alert-danger",role:"alert",children:"Enter valid E-Mail Address"}),Object(I.jsxs)("label",{children:["Membership",Object(I.jsxs)("select",{name:"membership",onChange:this.myChangeHandler,children:[Object(I.jsx)("option",{value:"",children:"...Select..."}),Object(I.jsx)("option",{value:"Not Member",children:"Not Member"}),Object(I.jsx)("option",{value:"Green",children:"Green"}),Object(I.jsx)("option",{value:"Orange",children:"Orange"}),Object(I.jsx)("option",{value:"Business",children:"Business"}),Object(I.jsx)("option",{value:"Ten Days",children:"Ten Days"}),Object(I.jsx)("option",{value:"Hours",children:"Hours"})]})]}),null===this.state.validate.membership||!0===this.state.validate.membership?"":Object(I.jsx)("div",{className:"alert alert-danger",role:"alert",children:"Select Membership"}),Object(I.jsx)("button",{className:"ui primary button stabraq-bg",onClick:this.onNewUserFormSubmit,type:"submit",children:"Submit"})]})]})})}}]),n}(r.a.Component),T=n(56),H=function(e){var t=e.hoursMinSecs,n=e.onTimeUp,a=t.hours,s=void 0===a?0:a,c=t.minutes,o=void 0===c?0:c,i=t.seconds,u=void 0===i?60:i,l=r.a.useState([s,o,u]),h=Object(T.a)(l,2),d=Object(T.a)(h[0],3),p=d[0],m=d[1],b=d[2],x=h[1];return r.a.useEffect((function(){var e=setInterval((function(){0===p&&0===m&&0===b?n(!0):x(0===m&&0===b?[p-1,59,59]:0===b?[p,m-1,59]:[p,m,b-1])}),1e3);return function(){return clearInterval(e)}})),Object(I.jsx)("div",{children:Object(I.jsx)("p",{children:"".concat(p.toString().padStart(2,"0"),":").concat(m.toString().padStart(2,"0"),":").concat(b.toString().padStart(2,"0"))})})},G=function(e){Object(d.a)(n,e);var t=Object(p.a)(n);function n(){var e;Object(l.a)(this,n);for(var a=arguments.length,r=new Array(a),s=0;s<a;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={checkInOut:""},e.onCheckInOut=function(t){t.preventDefault(),e.setState({checkInOut:t.target.value},(function(){this.props.onSubmit(this.state.checkInOut)}))},e}return Object(h.a)(n,[{key:"render",value:function(){return Object(I.jsxs)("div",{className:"ui segment",children:[Object(I.jsx)("button",{className:"ui primary button stabraq-bg",name:"checkIn",value:"Check In",onClick:this.onCheckInOut,type:"submit",children:"Check In"}),Object(I.jsx)("button",{className:"ui primary button stabraq-bg",name:"checkOut",value:"Check Out",onClick:this.onCheckInOut,type:"submit",children:"Check Out"})]})}}]),n}(r.a.Component),Y=function(e){Object(d.a)(n,e);var t=Object(p.a)(n);function n(){return Object(l.a)(this,n),t.apply(this,arguments)}return Object(h.a)(n,[{key:"render",value:function(){return Object(I.jsx)("div",{className:"text-center",children:Object(I.jsx)("div",{className:"spinner-border text-stabraq",role:"status",children:Object(I.jsx)("span",{className:"visually-hidden",children:"Loading..."})})})}}]),n}(r.a.Component),Z=function(e){Object(d.a)(n,e);var t=Object(p.a)(n);function n(){return Object(l.a)(this,n),t.apply(this,arguments)}return Object(h.a)(n,[{key:"openPage",value:function(e,t){e.preventDefault(),window.history.pushState({},"",t);var n=new PopStateEvent("popstate");window.dispatchEvent(n)}},{key:"render",value:function(){var e=this;return Object(I.jsx)("div",{children:Object(I.jsx)("div",{className:"modal fade",id:"exampleModal",tabIndex:"-1","aria-label":"exampleModalLabel","aria-hidden":"true",children:Object(I.jsx)("div",{className:"modal-dialog modal-dialog-centered",children:Object(I.jsxs)("div",{className:"modal-content",children:[Object(I.jsx)("div",{className:"modal-header",children:Object(I.jsx)("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})}),Object(I.jsx)("div",{className:"modal-body text-center",children:this.props.body}),Object(I.jsx)("div",{className:"modal-footer",children:Object(I.jsx)("button",{type:"button",className:"btn btn-stabraq","data-bs-dismiss":"modal",onClick:function(t){switch(e.props.closeAction){case"REFRESH":return window.location.pathname="/";case"NEW-USER":return e.openPage(t,"/main/new-user");default:return""}},children:"Close"})})]})})})})}}]),n}(r.a.Component),V=(n(430),n(431),n(432),n(37)),Q=n(17),J={hours:0,minutes:59,seconds:0},X=function(e){Object(d.a)(n,e);var t=Object(p.a)(n);function n(){var e;Object(l.a)(this,n);for(var a=arguments.length,r=new Array(a),s=0;s<a;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={numberExists:"",firstLoad:!1,valuesMatched:[],checkInOut:"",duration:"",approxDuration:"",cost:"",newSheetId:0,checkedIn:!1,checkedOut:!1,loading:!1,modalBody:"",modalCloseAction:"",sheetDate:"",showCheckInOut:!1,shrink:!1,shrinkLogo:!1,timeUp:!1},e.countDownTimerUp=function(){var t=Object(u.a)(i.a.mark((function t(n){return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.setState({timeUp:n});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.getNewSheetId=Object(u.a)(i.a.mark((function t(){var n;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,k(e.state.sheetDate[0]);case 2:if(!1!==(n=t.sent)){t.next=5;break}return t.abrupt("return");case 5:return e.setState({newSheetId:n}),t.next=8,w(e.state.newSheetId);case 8:return t.next=10,g();case 10:case"end":return t.stop()}}),t)}))),e.doShrinkLogo=Object(u.a)(i.a.mark((function t(){return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.setState({shrinkLogo:!0});case 1:case"end":return t.stop()}}),t)}))),e.onUserSubmit=function(){var t=Object(u.a)(i.a.mark((function t(n){return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.setState({showCheckInOut:n.showCheckInOut,shrink:n.shrink});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.onSearchSubmit=function(){var t=Object(u.a)(i.a.mark((function t(n){var a,r,s,c,o,u;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.setState({loading:!0}),e.state.firstLoad&&e.setState({firstLoad:!1}),"Data!L1",t.next=5,y("Data!L1");case 5:return a=t.sent,e.setState({sheetDate:a}),r=e.state.sheetDate,s=(new Date).toLocaleDateString(),t.next=11,e.checkDateToAddSheet(r,s);case 11:if(!(t.sent>=1)){t.next=15;break}return t.next=15,e.getNewSheetId();case 15:return t.next=17,O(n);case 17:return"Clients!I2",t.next=20,y("Clients!I2");case 20:if(c=t.sent,e.setState({numberExists:c}),!e.state.numberExists.includes("Exists")){t.next=28;break}return"Clients!J2:Q2",t.next=26,y("Clients!J2:Q2");case 26:o=t.sent,e.setState({valuesMatched:o});case 28:e.setState({loading:!1}),e.state.numberExists.includes("")||e.state.numberExists.includes("Not Exists")?e.setState({showCheckInOut:!1}):e.setState({showCheckInOut:!0}),e.setState({modalBody:Object(I.jsx)("div",{className:"text-center",children:e.state.numberExists.includes("Exists")?Object(I.jsxs)("h1",{children:[/[\u0600-\u06FF]/.test(e.state.valuesMatched[1])?"\u0645\u0631\u062d\u0628\u0627":"Welcome Back",Object(I.jsx)("br",{}),e.state.valuesMatched[1]]}):Object(I.jsx)("div",{className:"text-center",children:Object(I.jsx)("p",{children:e.state.numberExists})})}),modalCloseAction:e.state.numberExists.includes("Not Exists")?"NEW-USER":null}),u=new V.a(document.getElementById("exampleModal"),{}),(e.state.numberExists.includes("Exists")&&e.state.valuesMatched[6].includes("Not Checked In")||e.state.numberExists.includes("Not Exists"))&&u.show();case 33:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.onNewUserFormSubmit=function(){var t=Object(u.a)(i.a.mark((function t(n){var a;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log(n),e.state.firstLoad&&e.setState({firstLoad:!1}),t.next=4,S(n);case 4:return e.setState({modalBody:Object(I.jsx)("div",{className:"text-center",children:Object(I.jsx)("h1",{children:"Form Submitted"})})}),new V.a(document.getElementById("exampleModal"),{}).show(),t.next=9,O(n.mobile);case 9:return"Clients!J2:Q2",t.next=12,y("Clients!J2:Q2");case 12:a=t.sent,e.setState({valuesMatched:a}),e.setState({showCheckInOut:!0});case 15:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.checkDateToAddSheet=function(){var e=Object(u.a)(i.a.mark((function e(t,n){var a,r,s,c;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=new Date(t),r=new Date(n),s=Math.abs(r-a),c=Math.ceil(s/864e5),e.abrupt("return",c);case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),e.onCheckInOutSubmit=function(){var t=Object(u.a)(i.a.mark((function t(n){var a,r;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n.includes("Check In")){t.next=17;break}if(console.log("Welcome CheckIn"),!1!==e.state.valuesMatched[6].includes("Not Checked In")){t.next=10;break}return e.setState({checkedIn:!0}),e.setState({modalBody:Object(I.jsx)("div",{children:Object(I.jsx)("h1",{children:"You already Checked In"})}),modalCloseAction:"REFRESH"}),new V.a(document.getElementById("exampleModal"),{}).show(),t.abrupt("return");case 10:return t.next=12,N(n,e.state.valuesMatched);case 12:e.setState({modalBody:Object(I.jsxs)("div",{children:[Object(I.jsx)("h1",{children:"Checked In Successfully"}),!1===e.state.valuesMatched[3].includes("Not Member")&&e.state.valuesMatched[4].includes("/")?Object(I.jsxs)("div",{children:[Object(I.jsxs)("h1",{children:["Expiry Date: ",e.state.valuesMatched[4]]}),Object(I.jsxs)("h1",{children:["Remaining Days:",e.state.valuesMatched[5].includes("-")?"Expired ".concat(e.state.valuesMatched[5]):" ".concat(e.state.valuesMatched[5]," "),"Days"]})]}):""]}),modalCloseAction:"REFRESH"}),new V.a(document.getElementById("exampleModal"),{}).show();case 15:t.next=43;break;case 17:if(console.log("Welcome CheckOut"),!e.state.valuesMatched[7].includes("Check Out")){t.next=26;break}return e.setState({checkedOut:!0}),e.setState({modalBody:Object(I.jsx)("div",{children:Object(I.jsx)("h1",{children:"You already Checked Out"})}),modalCloseAction:"REFRESH"}),new V.a(document.getElementById("exampleModal"),{}).show(),t.abrupt("return");case 26:if(!e.state.valuesMatched[7].includes("Not Checked In")){t.next=33;break}return e.setState({modalBody:Object(I.jsx)("div",{children:Object(I.jsx)("h1",{children:e.state.valuesMatched[7]})}),modalCloseAction:"REFRESH"}),new V.a(document.getElementById("exampleModal"),{}).show(),t.abrupt("return");case 33:return t.next=35,E(n,e.state.valuesMatched[6],e.state.valuesMatched[3]);case 35:return a="Data!H".concat(e.state.valuesMatched[6],":J").concat(e.state.valuesMatched[6]),t.next=38,y(a);case 38:r=t.sent,e.setState({duration:r[0],approxDuration:r[1],cost:r[2]}),e.setState({modalBody:Object(I.jsx)("div",{children:e.state.duration.includes("")?Object(I.jsxs)("div",{children:[Object(I.jsxs)("h1",{children:["Duration: ",e.state.duration," Hr:Min"]}),Object(I.jsxs)("h1",{children:["Approx. Duration: ",e.state.approxDuration," Hours"]}),e.state.valuesMatched[3].includes("Not Member")?Object(I.jsxs)("h1",{children:["Cost: ",e.state.cost," EGP"]}):""]}):""}),modalCloseAction:"REFRESH"}),new V.a(document.getElementById("exampleModal"),{}).show();case 43:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.loadApiScript=Object(u.a)(i.a.mark((function t(){return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.setState({firstLoad:!0}),t.next=3,v();case 3:case"end":return t.stop()}}),t)}))),e}return Object(h.a)(n,[{key:"componentDidMount",value:function(){this.loadApiScript()}},{key:"render",value:function(){var e=this.state.shrinkLogo||"/"!==window.location.pathname?"shrink-logo":"";return Object(I.jsx)(C.a,{basename:"/",children:Object(I.jsxs)("div",{className:"ui container mt-3",children:[Object(I.jsx)(C.b,{to:"/main",children:Object(I.jsx)("div",{className:"text-center",children:Object(I.jsx)("button",{className:"btn me-2 no-btn-focus",type:"button",onClick:this.doShrinkLogo,children:Object(I.jsx)("img",{className:"mx-auto d-block logo-img ".concat(e),src:"logo.png",alt:"Logo"})})})}),Object(I.jsx)(Q.a,{path:"/main",children:Object(I.jsx)(A,{onSubmit:this.onUserSubmit})}),Object(I.jsx)(Q.a,{path:"/main/user",exact:!0,children:Object(I.jsx)(F,{onSubmit:this.onSearchSubmit})}),Object(I.jsx)(Q.a,{path:"/main/new-user",exact:!0,children:Object(I.jsx)(B,{onSubmit:this.onNewUserFormSubmit})}),this.state.loading?Object(I.jsx)(Y,{}):null,this.state.showCheckInOut?Object(I.jsx)(G,{onSubmit:this.onCheckInOutSubmit}):null,Object(I.jsx)(Z,{body:this.state.modalBody,closeAction:this.state.modalCloseAction}),Object(I.jsxs)("div",{className:"container",children:[this.state.firstLoad?Object(I.jsx)(H,{hoursMinSecs:J,onTimeUp:this.countDownTimerUp}):null,this.state.timeUp?Object(I.jsx)("div",{children:"Time Up"}):null]})]})})}}]),n}(r.a.Component);c.a.render(Object(I.jsx)(X,{}),document.getElementById("root"))}},[[433,1,2]]]);
//# sourceMappingURL=main.a650924b.chunk.js.map